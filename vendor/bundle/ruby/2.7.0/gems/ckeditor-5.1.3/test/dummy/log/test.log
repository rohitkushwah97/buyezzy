  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:43:47.890545"], ["updated_at", "2024-07-02 09:43:47.890545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (4.5ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012ee2bd58 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-28799-13fpfm.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 3580)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000012ed62e30 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-28799-130aach.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 282)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 324)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 9.8ms | Allocations: 6054)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 16.0ms | Allocations: 9687)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.1ms | Allocations: 11652)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 915)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001189d8618 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-28799-13nhzx5.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 336)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000012eb62680 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-28799-26a5e.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 282)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 322)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.3ms | Allocations: 1865)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2451)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 795)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:43:48.071382"], ["updated_at", "2024-07-02 09:43:48.071382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 9.3ms | Allocations: 7394)
  Rendered posts/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 7676)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 7709)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 8568)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:43:48.084409"], ["updated_at", "2024-07-02 09:43:48.084409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2861)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2894)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3248)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:43:48.088284"], ["updated_at", "2024-07-02 09:43:48.088284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1638)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2587)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3143)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:43:48.091897"], ["updated_at", "2024-07-02 09:43:48.091897"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.3ms | Allocations: 2764)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2926)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2959)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3354)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:49:55.471472"], ["updated_at", "2024-07-02 09:49:55.471472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:49:55.555502"], ["updated_at", "2024-07-02 09:49:55.555502"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vzllcdkrbzrv9cwkaxjwf8a3rkno"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:49:55.557802"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.558123"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.558338"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: vzllcdkrbzrv9cwkaxjwf8a3rkno (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8e058465-0d58-4a2b-adfc-87e4786ff755) to Test(default) with arguments: #<GlobalID:0x000000013547b900 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001353a2ce0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29060-ett3at.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:49:55.574053"], ["updated_at", "2024-07-02 09:49:55.574053"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "84yeqv5s4ghkrkv4f9bl7mvz1qk1"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:49:55.574897"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.575147"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.575331"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 84yeqv5s4ghkrkv4f9bl7mvz1qk1 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.2ms | Allocations: 4284)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b42d0c96-2cfa-4e1a-8df9-f3fddcbaa4c9) to Test(default) with arguments: #<GlobalID:0x00000001352d3c60 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001352a1620 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29060-16u8mqi.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:49:55.583289"], ["updated_at", "2024-07-02 09:49:55.583289"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0q431h3wsgnn2aer8oqalg45dbuh"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:49:55.584011"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.584259"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.584440"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0q431h3wsgnn2aer8oqalg45dbuh (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7653)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: ba4edcda-513d-46a9-b53d-a95098d97c0a) to Test(default) with arguments: #<GlobalID:0x00000001351751c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:49:55.597495"], ["updated_at", "2024-07-02 09:49:55.597495"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "r07x1x99dicgcmgkncmk8j7t3o2g"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:49:55.598219"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.598463"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.598654"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: r07x1x99dicgcmgkncmk8j7t3o2g (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7158)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 179c293e-f94f-4a4c-957c-6b3b7117f5c3) to Test(default) with arguments: #<GlobalID:0x000000013462beb8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:49:55.603564"], ["updated_at", "2024-07-02 09:49:55.603564"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2kh2qg24m0juxu9jmeken9h2hco8"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:49:55.604158"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.604392"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.604568"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 2kh2qg24m0juxu9jmeken9h2hco8 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c6c2c73f-29e6-454a-afd1-5bd2cf310ed0) to Test(default) with arguments: #<GlobalID:0x0000000134539af0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1562)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.4ms | Allocations: 1623)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 5.9ms | Allocations: 4157)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 5319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:49:55.623606"], ["updated_at", "2024-07-02 09:49:55.623606"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "dxptneqk0jsmvb2xr2xbbcx4jzb7"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:49:55.624465"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.624721"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.624914"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: dxptneqk0jsmvb2xr2xbbcx4jzb7 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 31c3628c-f513-4d78-a2d5-c4be255ab7bd) to Test(default) with arguments: #<GlobalID:0x0000000134064b88 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/dxptneqk0jsmvb2xr2xbbcx4jzb7/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: dxptneqk0jsmvb2xr2xbbcx4jzb7[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 35781a18-c5bb-4b09-af37-ca6ed354806b) to Test(default) with arguments: #<GlobalID:0x00000001534319b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:49:55.649951"], ["updated_at", "2024-07-02 09:49:55.649951"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 6.7ms | Allocations: 6249)
  Rendered posts/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 6531)
  Rendered layout layouts/application.html.erb (Duration: 7.0ms | Allocations: 6564)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 7423)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:49:55.660146"], ["updated_at", "2024-07-02 09:49:55.660146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2855)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2888)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3242)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:49:55.663419"], ["updated_at", "2024-07-02 09:49:55.663419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2547)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 2580)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3130)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:49:55.666706"], ["updated_at", "2024-07-02 09:49:55.666706"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.0ms | Allocations: 2757)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 2918)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2951)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001353f9a18 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29060-1gna6oq.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:49:55.671968"], ["updated_at", "2024-07-02 09:49:55.671968"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "iv3iyi3ihnbepg4ndqtchxgw739s"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:49:55.672860"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.673148"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.673357"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: iv3iyi3ihnbepg4ndqtchxgw739s (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 47d433fc-c647-4aa0-8ea4-4a0bbea97bf4) to Test(default) with arguments: #<GlobalID:0x0000000135377a18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/iv3iyi3ihnbepg4ndqtchxgw739s/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: iv3iyi3ihnbepg4ndqtchxgw739s[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3446)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3c652103-62db-4e65-a3c4-27404a3d4ab3) to Test(default) with arguments: #<GlobalID:0x00000001352a11c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000135225728 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29060-1tsycfx.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:49:55.679572"], ["updated_at", "2024-07-02 09:49:55.679572"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qn5b79qwjkt9exrt9kgi8goa2yyi"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:49:55.680453"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.680740"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.680949"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: qn5b79qwjkt9exrt9kgi8goa2yyi (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2a9f1dc9-da5f-449d-85ff-5fb73acf08ad) to Test(default) with arguments: #<GlobalID:0x0000000135184f58 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/qn5b79qwjkt9exrt9kgi8goa2yyi/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: qn5b79qwjkt9exrt9kgi8goa2yyi[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3426)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9c474d5b-a11d-488c-bfab-c197985a4cdf) to Test(default) with arguments: #<GlobalID:0x00000001350d48b0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:49:55.686612"], ["updated_at", "2024-07-02 09:49:55.686612"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6vhz0pt61qrsc63cauatkloiw2gt"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:49:55.687310"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.687558"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.687741"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 6vhz0pt61qrsc63cauatkloiw2gt (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3ec36598-11e5-4242-b92c-c3055db56282) to Test(default) with arguments: #<GlobalID:0x00000001345c20f8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/6vhz0pt61qrsc63cauatkloiw2gt/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 6vhz0pt61qrsc63cauatkloiw2gt[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3588)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 68aabf9d-2b42-4055-8f50-b87700b0708e) to Test(default) with arguments: #<GlobalID:0x00000001344f98b0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:49:55.692533"], ["updated_at", "2024-07-02 09:49:55.692533"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pca96mnv9jckigejxylujvrcuz4v"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:49:55.693249"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:49:55.693509"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:49:55.693706"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: pca96mnv9jckigejxylujvrcuz4v (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ad3c1706-041c-4984-8326-bd5c0f5ca5af) to Test(default) with arguments: #<GlobalID:0x000000013435d678 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5b1b09e6-50bd-4a85-b1cf-32d5c325241f) to Test(default) with arguments: #<GlobalID:0x00000001342b0090 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 1475)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 661)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.4ms | Allocations: 1852)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2438)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 761)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:51:15.163526"], ["updated_at", "2024-07-02 09:51:15.163526"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011f34ac18 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29131-z8tmpz.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:51:15.288518"], ["updated_at", "2024-07-02 09:51:15.288518"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "a5j9l6l65nw3ochu534kcyuf96p6"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:51:15.290594"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.290925"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.291146"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: a5j9l6l65nw3ochu534kcyuf96p6 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 31ms (Views: 1.6ms | ActiveRecord: 0.6ms | Allocations: 29071)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8e5cfb81-f274-4c69-92cc-e5672570a3e4) to Test(default) with arguments: #<GlobalID:0x000000012f7806d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000012f6e2d98 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29131-1d5cenk.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:51:15.300174"], ["updated_at", "2024-07-02 09:51:15.300174"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "reewm10ev24umme1oyc5y3opgm8u"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:51:15.300892"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.301144"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.301334"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: reewm10ev24umme1oyc5y3opgm8u (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7659)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4fb78381-7093-4873-af96-527340bb6cd9) to Test(default) with arguments: #<GlobalID:0x000000012f4da0c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:51:15.314682"], ["updated_at", "2024-07-02 09:51:15.314682"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ehjb2r6tjjwuilj85q7fvm3yxtai"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:51:15.315458"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.315727"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.315918"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ehjb2r6tjjwuilj85q7fvm3yxtai (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7165)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b03e06e0-c133-4e45-9fcf-ef01c6421f2e) to Test(default) with arguments: #<GlobalID:0x000000012e0f9f18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:51:15.320797"], ["updated_at", "2024-07-02 09:51:15.320797"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fmfd2lcx3822l8wnxoigpw8e5pgi"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:51:15.321453"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.321682"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.321875"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: fmfd2lcx3822l8wnxoigpw8e5pgi (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e4d153cd-ca0b-4ee7-8ed1-255859e1e3fd) to Test(default) with arguments: #<GlobalID:0x000000012f104b10 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1562)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.6ms | Allocations: 1623)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 11.0ms | Allocations: 4157)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms | Allocations: 5319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011f74a430 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29131-1sylt6m.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:51:15.350355"], ["updated_at", "2024-07-02 09:51:15.350355"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "atjllho71emmh9j43iwqlnyz9hzt"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:51:15.351471"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.351807"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.352014"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: atjllho71emmh9j43iwqlnyz9hzt (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3866474d-2948-43be-94ae-ad7bded2f67e) to Test(default) with arguments: #<GlobalID:0x000000011f5e1080 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/atjllho71emmh9j43iwqlnyz9hzt/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: atjllho71emmh9j43iwqlnyz9hzt[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 9090)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7b4928a6-0bdf-4d74-a50c-6c4021b02493) to Test(default) with arguments: #<GlobalID:0x000000011f4d24a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011f46a738 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29131-hsrb4z.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:51:15.364039"], ["updated_at", "2024-07-02 09:51:15.364039"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u69i81oaf1wcfe22j1g5412vw8df"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:51:15.364872"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.365129"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.365319"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: u69i81oaf1wcfe22j1g5412vw8df (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7a0c1167-85d0-42f7-ada7-f263575d480e) to Test(default) with arguments: #<GlobalID:0x000000011f3b34c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/u69i81oaf1wcfe22j1g5412vw8df/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: u69i81oaf1wcfe22j1g5412vw8df[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3422)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b6484ef7-ab66-4693-a31a-02de95d28a34) to Test(default) with arguments: #<GlobalID:0x000000011f328280 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:51:15.370826"], ["updated_at", "2024-07-02 09:51:15.370826"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yb52g50pw0ajdg1o751ibyiknwur"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:51:15.371662"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.371964"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.372171"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: yb52g50pw0ajdg1o751ibyiknwur (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fe32251f-47d2-4020-8d2d-2c0fdd68b9b7) to Test(default) with arguments: #<GlobalID:0x000000011f227750 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/yb52g50pw0ajdg1o751ibyiknwur/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: yb52g50pw0ajdg1o751ibyiknwur[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3590)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7fdcf716-0395-433c-8826-1ebf49d60e11) to Test(default) with arguments: #<GlobalID:0x000000011f14d910 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:51:15.376951"], ["updated_at", "2024-07-02 09:51:15.376951"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ldo14hk9ous994ydhdsz8x70kwq8"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:51:15.377671"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.377921"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.378115"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ldo14hk9ous994ydhdsz8x70kwq8 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d086b82c-c00d-47f1-a6c1-01d47fd152f4) to Test(default) with arguments: #<GlobalID:0x000000011f06e120 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5d08f778-5934-4bf1-8434-f2772b4517cf) to Test(default) with arguments: #<GlobalID:0x000000012f7b3498 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 660)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.3ms | Allocations: 1839)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2424)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 748)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:51:15.391171"], ["updated_at", "2024-07-02 09:51:15.391171"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s8p9q31bno0a2xw4buewlju4vthp"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:51:15.391949"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.392261"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.392454"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: s8p9q31bno0a2xw4buewlju4vthp (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1c7b75d4-6735-4b71-be3e-ff89311e4d10) to Test(default) with arguments: #<GlobalID:0x000000012e07f218 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/s8p9q31bno0a2xw4buewlju4vthp/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: s8p9q31bno0a2xw4buewlju4vthp[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 0318e77f-eaeb-494d-b321-3ead29f5d85e) to Test(default) with arguments: #<GlobalID:0x000000013dfe0108 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:51:15.400272"], ["updated_at", "2024-07-02 09:51:15.400272"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.5ms | Allocations: 3726)
  Rendered posts/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4030)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 12202)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.0ms | Allocations: 13059)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:51:15.426190"], ["updated_at", "2024-07-02 09:51:15.426190"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 581)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 3266)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3620)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:51:15.433806"], ["updated_at", "2024-07-02 09:51:15.433806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 851)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1401)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:51:15.438849"], ["updated_at", "2024-07-02 09:51:15.438849"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.2ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 1903)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms | Allocations: 2295)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:51:15.446999"], ["updated_at", "2024-07-02 09:51:15.446999"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3ue6gn6llxh10168p3va8ems8vzn"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:51:15.448763"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:51:15.449055"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:51:15.449628"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 3ue6gn6llxh10168p3va8ems8vzn (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9627fe0e-afff-4e0d-b074-557a85b68c45) to Test(default) with arguments: #<GlobalID:0x000000011f462f88 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:52:01.773782"], ["updated_at", "2024-07-02 09:52:01.773782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000103ade590 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29201-1iqpm0n.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:01.869847"], ["updated_at", "2024-07-02 09:52:01.869847"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w22ngqga74p3bxd4yeziftk2piyr"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:01.872029"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.872362"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.872580"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: w22ngqga74p3bxd4yeziftk2piyr (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 38ms (Views: 1.5ms | ActiveRecord: 0.7ms | Allocations: 29076)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 099ac4ff-65b8-404d-8635-9e3ea256485e) to Test(default) with arguments: #<GlobalID:0x000000011eddfda0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001053ef9f8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29201-icdiu.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:01.882026"], ["updated_at", "2024-07-02 09:52:01.882026"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "scut754qij1kb4deas9l8usmyw19"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:01.882711"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.882959"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.883142"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: scut754qij1kb4deas9l8usmyw19 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7659)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c2b91c9c-553d-4fab-abd4-fa5046b04104) to Test(default) with arguments: #<GlobalID:0x000000011edcd8a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:01.896340"], ["updated_at", "2024-07-02 09:52:01.896340"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0czxjboosi28lfrzsaqyawv9g87l"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:01.897138"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.897408"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.897602"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0czxjboosi28lfrzsaqyawv9g87l (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7162)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d2252126-828b-48c3-a43e-5f28b02168ab) to Test(default) with arguments: #<GlobalID:0x000000010529c060 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:01.902663"], ["updated_at", "2024-07-02 09:52:01.902663"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s62ygc0jeyps9d6yopwqwcrk71zh"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:01.903299"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.903536"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.903729"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: s62ygc0jeyps9d6yopwqwcrk71zh (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b617039a-7140-409e-bcad-2d3426e45713) to Test(default) with arguments: #<GlobalID:0x00000001051810b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1560)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.1ms | Allocations: 1623)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 5.9ms | Allocations: 4157)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 5319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:01.922078"], ["updated_at", "2024-07-02 09:52:01.922078"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2p3b1vt3m54jymh9uy51tedunqy5"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:01.922849"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.923099"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.923283"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 2p3b1vt3m54jymh9uy51tedunqy5 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d21dd8bd-b940-412c-b591-b73ddebfd788) to Test(default) with arguments: #<GlobalID:0x0000000103f06fc8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:01.928355"], ["updated_at", "2024-07-02 09:52:01.928355"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6tufo90129jiswmrzc06ayep4468"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:01.929202"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.929478"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.929683"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 6tufo90129jiswmrzc06ayep4468 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 05039cd5-41cf-493a-a309-3d8efd461030) to Test(default) with arguments: #<GlobalID:0x0000000103d76168 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/6tufo90129jiswmrzc06ayep4468/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 6tufo90129jiswmrzc06ayep4468[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3a046d55-d214-49cb-b51a-1a0a38c0c91f) to Test(default) with arguments: #<GlobalID:0x0000000103c11ed0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000103b98b70 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29201-1t83vv3.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:01.942328"], ["updated_at", "2024-07-02 09:52:01.942328"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v8l6nb174j2n90oxctuej0933z2t"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:01.943083"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.943375"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.943578"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: v8l6nb174j2n90oxctuej0933z2t (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 43ea683e-e410-4c57-90af-0a97dc42100d) to Test(default) with arguments: #<GlobalID:0x000000011eb889f8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/v8l6nb174j2n90oxctuej0933z2t/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: v8l6nb174j2n90oxctuej0933z2t[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3442)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: dbe3a904-53ed-4706-acdb-d9c10aa7798e) to Test(default) with arguments: #<GlobalID:0x0000000103ad5788 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000103a2f1a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29201-10zs6i4.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:01.949201"], ["updated_at", "2024-07-02 09:52:01.949201"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0zlkoj7nd006z7qan1bwpvn3b64g"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:01.949995"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.950260"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.950447"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: 0zlkoj7nd006z7qan1bwpvn3b64g (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d5224456-86c8-46f1-a5eb-bf3b0b038f86) to Test(default) with arguments: #<GlobalID:0x000000012f788f18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/0zlkoj7nd006z7qan1bwpvn3b64g/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 0zlkoj7nd006z7qan1bwpvn3b64g[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3417)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c8ce69c8-86aa-440c-a980-75dd0be7a389) to Test(default) with arguments: #<GlobalID:0x000000012f567540 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:01.961651"], ["updated_at", "2024-07-02 09:52:01.961651"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mon7nbsuz44o0ui0lo3brtj8y8de"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:01.962740"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.963039"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.963256"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: mon7nbsuz44o0ui0lo3brtj8y8de (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8b1aa603-2311-4cfa-9468-542c77a08359) to Test(default) with arguments: #<GlobalID:0x000000011f1c63b0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/mon7nbsuz44o0ui0lo3brtj8y8de/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mon7nbsuz44o0ui0lo3brtj8y8de[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.2ms | Allocations: 3587)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9444780b-639f-498c-9071-2616167005ef) to Test(default) with arguments: #<GlobalID:0x000000012eb01218 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:01.969109"], ["updated_at", "2024-07-02 09:52:01.969109"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9fzljjwcnkwndjncs0irwmhrgyqb"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:01.969827"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:01.970072"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:01.970261"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 9fzljjwcnkwndjncs0irwmhrgyqb (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a39f77e-2835-4c8e-892e-a986e6b11d6d) to Test(default) with arguments: #<GlobalID:0x0000000105432de8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 23e94047-cca5-4be3-8cf6-8089ce4bb6ec) to Test(default) with arguments: #<GlobalID:0x00000001053e4238 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1478)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 660)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.4ms | Allocations: 1851)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2437)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 751)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:01.984018"], ["updated_at", "2024-07-02 09:52:01.984018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.2ms | Allocations: 3733)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 4036)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 8442)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 9299)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:01.996526"], ["updated_at", "2024-07-02 09:52:01.996526"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 581)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 3149)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3504)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:02.000945"], ["updated_at", "2024-07-02 09:52:02.000945"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2861)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 3414)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:02.006774"], ["updated_at", "2024-07-02 09:52:02.006774"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.0ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 3879)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 4271)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:52:30.811798"], ["updated_at", "2024-07-02 09:52:30.811798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:30.867832"], ["updated_at", "2024-07-02 09:52:30.867832"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 21.2ms | Allocations: 12140)
  Rendered posts/new.html.erb within layouts/application (Duration: 21.9ms | Allocations: 12604)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 14158)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.0ms | Allocations: 15972)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:30.901327"], ["updated_at", "2024-07-02 09:52:30.901327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1116)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1649)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 2011)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:30.904409"], ["updated_at", "2024-07-02 09:52:30.904409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 845)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1371)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1927)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:52:30.907221"], ["updated_at", "2024-07-02 09:52:30.907221"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 2205)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.0ms | Allocations: 2425)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 2951)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3343)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:30.966373"], ["updated_at", "2024-07-02 09:52:30.966373"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "culx99ibmn3ysecez53zemzugav5"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:30.968810"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:30.969209"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:30.969440"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: culx99ibmn3ysecez53zemzugav5 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6c06bd4d-aa7a-49fb-b353-d08cff244fe1) to Test(default) with arguments: #<GlobalID:0x0000000105608f78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/culx99ibmn3ysecez53zemzugav5/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: culx99ibmn3ysecez53zemzugav5[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f678af10-a9a9-426d-95ac-0090ee7e40ef) to Test(default) with arguments: #<GlobalID:0x0000000105491f78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:30.983184"], ["updated_at", "2024-07-02 09:52:30.983184"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gf72eg1x1fmo3d5h7miuitll71y3"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:30.984082"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:30.984374"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:30.984583"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: gf72eg1x1fmo3d5h7miuitll71y3 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c3d8fb77-2f1d-46f9-bf4e-72e449c65a95) to Test(default) with arguments: #<GlobalID:0x000000010529b8b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001247c84c0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29241-h95e7q.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:30.992787"], ["updated_at", "2024-07-02 09:52:30.992787"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tdoj8q1722g4xkuggga4gdah3ruk"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:30.993732"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:30.993994"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:30.994189"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: tdoj8q1722g4xkuggga4gdah3ruk (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4e22d896-3d0b-42ef-91e1-602be5547c88) to Test(default) with arguments: #<GlobalID:0x00000001245065c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/tdoj8q1722g4xkuggga4gdah3ruk/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: tdoj8q1722g4xkuggga4gdah3ruk[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3731)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8285a6fc-8620-4d4b-a7ba-ae695930ac00) to Test(default) with arguments: #<GlobalID:0x0000000103547668 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001034f8f90 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29241-1coxylo.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:31.007603"], ["updated_at", "2024-07-02 09:52:31.007603"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xz19l8zvu42905hg27ztocxmqlzn"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:31.008529"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.008868"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.009091"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: xz19l8zvu42905hg27ztocxmqlzn (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: efac4189-7d8e-431e-9fe3-f6fbdb14646b) to Test(default) with arguments: #<GlobalID:0x0000000103423cc8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/xz19l8zvu42905hg27ztocxmqlzn/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: xz19l8zvu42905hg27ztocxmqlzn[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3432)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7fba8d31-d33f-453c-87e9-90a21e9319be) to Test(default) with arguments: #<GlobalID:0x00000001033896a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:31.016045"], ["updated_at", "2024-07-02 09:52:31.016045"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "afrb7cvzjwd36qpyrpxx33u3vphs"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:31.016860"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.017158"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.017377"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: afrb7cvzjwd36qpyrpxx33u3vphs (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 91013035-2dc8-443f-afad-71577f74b5b6) to Test(default) with arguments: #<GlobalID:0x000000010328bfa0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/afrb7cvzjwd36qpyrpxx33u3vphs/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: afrb7cvzjwd36qpyrpxx33u3vphs[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3588)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 6afa2603-33c5-4a1c-ba46-2b638797da69) to Test(default) with arguments: #<GlobalID:0x00000001031f3a48 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:52:31.022496"], ["updated_at", "2024-07-02 09:52:31.022496"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uckue6p8o3vgclp92c3kepl6uik5"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:52:31.023293"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.023582"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.023767"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: uckue6p8o3vgclp92c3kepl6uik5 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b174cf40-cdbd-45ff-8a71-a08c53a25bd0) to Test(default) with arguments: #<GlobalID:0x000000010310b158 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 245fe46e-caeb-401c-8b0c-2ded86dfcc6b) to Test(default) with arguments: #<GlobalID:0x00000001061744c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1534)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.1ms | Allocations: 1433)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 5.9ms | Allocations: 3756)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4764)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 875)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000105438018 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29241-1dxqqyt.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:31.045185"], ["updated_at", "2024-07-02 09:52:31.045185"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "07tqr4phed6hqq98v4305si8el7y"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:31.047089"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.047474"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.047693"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 07tqr4phed6hqq98v4305si8el7y (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 3303)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 88b9c990-c20f-4b6d-86f8-4fcefc484677) to Test(default) with arguments: #<GlobalID:0x00000001268421d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001268297f0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29241-89o9ds.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:31.056196"], ["updated_at", "2024-07-02 09:52:31.056196"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "elwor5xr0nqghs98ofk7dtomtd3x"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:31.057568"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.058115"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.058525"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: elwor5xr0nqghs98ofk7dtomtd3x (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 3175)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 28a8759c-133a-4c74-bfe8-811646a92b2e) to Test(default) with arguments: #<GlobalID:0x0000000105341ba0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:31.072524"], ["updated_at", "2024-07-02 09:52:31.072524"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ehaxoebz2nyp8iwlt8xmprep912r"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:31.073789"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.074352"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.074549"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ehaxoebz2nyp8iwlt8xmprep912r (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7073)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: adfc38f9-d0c2-4901-b40a-faf8873a8e54) to Test(default) with arguments: #<GlobalID:0x000000011470c550 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:52:31.083544"], ["updated_at", "2024-07-02 09:52:31.083544"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "a5dja9g4ue9la3eddi0ih6louzey"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:52:31.084804"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:52:31.085419"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:52:31.085612"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: a5dja9g4ue9la3eddi0ih6louzey (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.5ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7f266cc1-ae28-49d0-b9a3-7b1e3f9e38d1) to Test(default) with arguments: #<GlobalID:0x00000001060fa5f8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 4ms (ActiveRecord: 0.6ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.3ms | Allocations: 687)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 3.5ms | Allocations: 1865)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 2336)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:53:09.679514"], ["updated_at", "2024-07-02 09:53:09.679514"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:09.764108"], ["updated_at", "2024-07-02 09:53:09.764108"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "op4dxn3e0hwe7ehfvvrd9fdkcew8"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:09.766362"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.766694"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.766929"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: op4dxn3e0hwe7ehfvvrd9fdkcew8 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e177ab68-e26a-48e0-8675-99a290c018fd) to Test(default) with arguments: #<GlobalID:0x00000001548f6e98 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:09.808414"], ["updated_at", "2024-07-02 09:53:09.808414"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wgc24zxj2ab0igpcrtfzjkc50lb8"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:09.810149"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.810752"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.810947"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: wgc24zxj2ab0igpcrtfzjkc50lb8 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e74f13c7-c3d5-4eec-8364-74328cfdb097) to Test(default) with arguments: #<GlobalID:0x0000000131a93e40 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/wgc24zxj2ab0igpcrtfzjkc50lb8/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: wgc24zxj2ab0igpcrtfzjkc50lb8[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 60331a4c-bc9c-4a3c-b25b-e0345cd51df7) to Test(default) with arguments: #<GlobalID:0x0000000131ef1eb0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:09.837679"], ["updated_at", "2024-07-02 09:53:09.837679"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 17.0ms | Allocations: 8240)
  Rendered posts/new.html.erb within layouts/application (Duration: 18.2ms | Allocations: 8704)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 12881)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms | Allocations: 14697)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:09.885308"], ["updated_at", "2024-07-02 09:53:09.885308"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 585)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1121)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1483)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:09.890235"], ["updated_at", "2024-07-02 09:53:09.890235"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 851)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1405)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:09.895325"], ["updated_at", "2024-07-02 09:53:09.895325"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.6ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1377)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1910)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2303)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001549a3e90 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29314-pmtj4y.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:09.911587"], ["updated_at", "2024-07-02 09:53:09.911587"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0kybrdedx5aom49hiqvm2hqci2in"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:09.912559"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.912830"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.913015"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0kybrdedx5aom49hiqvm2hqci2in (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 96e7b085-f0c3-43f3-8a2f-a1528c65760e) to Test(default) with arguments: #<GlobalID:0x00000001549ba0a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/0kybrdedx5aom49hiqvm2hqci2in/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 0kybrdedx5aom49hiqvm2hqci2in[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3732)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d44d7b64-6317-4b63-881b-f204049e5030) to Test(default) with arguments: #<GlobalID:0x0000000111385f38 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011038e238 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29314-rowqqp.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:09.918724"], ["updated_at", "2024-07-02 09:53:09.918724"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fmry91gu1xl92czxq5zdf93e9hrl"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:09.919409"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.919662"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.919833"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: fmry91gu1xl92czxq5zdf93e9hrl (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c9191119-f0a2-4957-9751-56f5665f0362) to Test(default) with arguments: #<GlobalID:0x00000001549eae80 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/fmry91gu1xl92czxq5zdf93e9hrl/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: fmry91gu1xl92czxq5zdf93e9hrl[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 3348)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d1f42798-f39f-4481-93ec-918f2f8a6b37) to Test(default) with arguments: #<GlobalID:0x0000000154a12ac0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:09.924986"], ["updated_at", "2024-07-02 09:53:09.924986"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kf9d71de7d9zpxaujai76xex5393"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:09.925667"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.925928"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.926100"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: kf9d71de7d9zpxaujai76xex5393 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 723f1f87-4840-4cec-a550-2b4e6acbae81) to Test(default) with arguments: #<GlobalID:0x0000000141874190 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/kf9d71de7d9zpxaujai76xex5393/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: kf9d71de7d9zpxaujai76xex5393[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3589)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e7158f33-4cae-4368-86eb-7699faf79888) to Test(default) with arguments: #<GlobalID:0x000000014189d6d0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:09.930407"], ["updated_at", "2024-07-02 09:53:09.930407"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v774n8e2lnj8hhyfl5ecf6ogw8s5"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:09.931020"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.931257"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.931427"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: v774n8e2lnj8hhyfl5ecf6ogw8s5 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 31716993-d7f7-4988-b759-ecd071b4e5ad) to Test(default) with arguments: #<GlobalID:0x0000000154a38ba8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 92a32894-9651-4844-ab8a-67589597a69b) to Test(default) with arguments: #<GlobalID:0x000000011129da80 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1528)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.0ms | Allocations: 1430)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 15.1ms | Allocations: 11307)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.1ms | Allocations: 12317)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 875)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001111ace00 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29314-n0zawy.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:09.959211"], ["updated_at", "2024-07-02 09:53:09.959211"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wkixe0x2pb4hpidd7nq72xw72a0f"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:09.960090"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.960330"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.960528"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: wkixe0x2pb4hpidd7nq72xw72a0f (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 3300)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 02e6126f-f1c6-4d9c-9f1b-74dc73205bd6) to Test(default) with arguments: #<GlobalID:0x000000011171cb88 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000111724770 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29314-1og1fek.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:09.967125"], ["updated_at", "2024-07-02 09:53:09.967125"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ictx46rp6fswwkrfgt6ttnvfo34x"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:09.967782"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.968021"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.968190"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ictx46rp6fswwkrfgt6ttnvfo34x (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 3177)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: bd2206d7-9006-43c3-8b37-6d80c36c097d) to Test(default) with arguments: #<GlobalID:0x00000001117654c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:09.973951"], ["updated_at", "2024-07-02 09:53:09.973951"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v3bpdtu0lxtf3s4mg1ibmshmcifd"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:09.974776"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.975064"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.975247"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: v3bpdtu0lxtf3s4mg1ibmshmcifd (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7164)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 458040d1-6869-4715-b5d1-5822eb778228) to Test(default) with arguments: #<GlobalID:0x000000011179e570 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:09.980056"], ["updated_at", "2024-07-02 09:53:09.980056"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xqd3tbu55wuvpnst61gcuuur9jy3"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:09.980647"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:09.980859"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:09.981034"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: xqd3tbu55wuvpnst61gcuuur9jy3 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f4e39be5-7dcc-4c6d-a696-16c39900203e) to Test(default) with arguments: #<GlobalID:0x00000001117adae8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1396)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1869)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:53:33.596128"], ["updated_at", "2024-07-02 09:53:33.596128"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (4.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:33.650805"], ["updated_at", "2024-07-02 09:53:33.650805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 20.0ms | Allocations: 14547)
  Rendered posts/new.html.erb within layouts/application (Duration: 20.7ms | Allocations: 14984)
  Rendered layout layouts/application.html.erb (Duration: 20.8ms | Allocations: 15022)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 16838)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:33.687005"], ["updated_at", "2024-07-02 09:53:33.687005"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 3520)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 4603)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 4965)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:33.692623"], ["updated_at", "2024-07-02 09:53:33.692623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 845)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1371)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1927)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:53:33.696448"], ["updated_at", "2024-07-02 09:53:33.696448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.6ms | Allocations: 2352)
  Rendered posts/edit.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2572)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 3098)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 3490)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012890d340 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29353-llzqdj.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:33.751506"], ["updated_at", "2024-07-02 09:53:33.751506"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "x16y0vqij64706791rsybyeajau6"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:33.754803"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.755426"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.755963"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: x16y0vqij64706791rsybyeajau6 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 51ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 28041)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e4b8f642-6988-4fb4-b147-a8f260d9fd46) to Test(default) with arguments: #<GlobalID:0x000000011ae55dd8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011ae96e78 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29353-1mgp2ym.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:33.768481"], ["updated_at", "2024-07-02 09:53:33.768481"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2u9ywwyywkceknrqe1tlea5er00d"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:33.770563"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.771293"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.771481"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 2u9ywwyywkceknrqe1tlea5er00d (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3192)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b9c2c7c8-f434-4758-943e-b189e8b6e734) to Test(default) with arguments: #<GlobalID:0x000000011af8c8a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:33.783829"], ["updated_at", "2024-07-02 09:53:33.783829"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "d2xf0v0xv32ekn3n3s7zte9znyzj"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:33.784956"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.785211"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.785770"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: d2xf0v0xv32ekn3n3s7zte9znyzj (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7161)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3e3e707b-cbcd-409b-bb06-916ef6dc585f) to Test(default) with arguments: #<GlobalID:0x000000011b40c4e8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:33.797261"], ["updated_at", "2024-07-02 09:53:33.797261"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "a8o3nyooduzr09kpapxvdz5dtfby"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:33.797918"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.798154"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.798326"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: a8o3nyooduzr09kpapxvdz5dtfby (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: bdc92639-73d6-4278-8139-5a4f49016a59) to Test(default) with arguments: #<GlobalID:0x000000010892d3b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1530)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.8ms | Allocations: 1463)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 6.0ms | Allocations: 4047)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4943)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 913)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:33.816271"], ["updated_at", "2024-07-02 09:53:33.816271"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gbognt20xprupwg6vn1elnpemsar"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:33.817131"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.817380"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.817565"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: gbognt20xprupwg6vn1elnpemsar (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5e4a4724-270d-4739-a87a-ddb3c0a810c4) to Test(default) with arguments: #<GlobalID:0x000000014b490bc8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/gbognt20xprupwg6vn1elnpemsar/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: gbognt20xprupwg6vn1elnpemsar[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f79676d8-aec3-4b8f-a8a6-fa0a1077ad04) to Test(default) with arguments: #<GlobalID:0x0000000108835e38 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:53:33.857275"], ["updated_at", "2024-07-02 09:53:33.857275"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hdzoanjhbx9qrw5zfl80cuujc9n5"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:53:33.858230"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.858501"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.858696"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: hdzoanjhbx9qrw5zfl80cuujc9n5 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c7452f97-4804-458f-9a41-6a0e30066b3b) to Test(default) with arguments: #<GlobalID:0x0000000108a25f90 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011af057b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29353-8q4683.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:33.862963"], ["updated_at", "2024-07-02 09:53:33.862963"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "yccpsj4b8mh7f4alhymq3kdqauvy"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:33.863710"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.863951"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.864130"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: yccpsj4b8mh7f4alhymq3kdqauvy (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1a4dbcb7-c74c-46f6-a490-129d74e0e9db) to Test(default) with arguments: #<GlobalID:0x000000011aee70d0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/yccpsj4b8mh7f4alhymq3kdqauvy/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: yccpsj4b8mh7f4alhymq3kdqauvy[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3442)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e41a75fb-fea9-4a60-9fad-552ad66de759) to Test(default) with arguments: #<GlobalID:0x0000000108a797d0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011aeb7218 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29353-1m4zvqp.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:33.869261"], ["updated_at", "2024-07-02 09:53:33.869261"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hvob7ukefpmarmafysh96tgx2eby"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:33.870010"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.870259"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.870436"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: hvob7ukefpmarmafysh96tgx2eby (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 19e5ba5b-2a97-434a-bc5f-2f7c46b0c8a2) to Test(default) with arguments: #<GlobalID:0x000000011ae955c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/hvob7ukefpmarmafysh96tgx2eby/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: hvob7ukefpmarmafysh96tgx2eby[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3417)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b5ddb097-b4ed-4401-b8b3-96350f6a2f91) to Test(default) with arguments: #<GlobalID:0x000000011ae753e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:33.876186"], ["updated_at", "2024-07-02 09:53:33.876186"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "soyoc81csvdspvfl4xmwdx5qedp5"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:33.876935"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.877191"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.877369"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: soyoc81csvdspvfl4xmwdx5qedp5 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5a4c219f-0a58-4e9a-b370-e07cf890d452) to Test(default) with arguments: #<GlobalID:0x000000011b2ec1a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/soyoc81csvdspvfl4xmwdx5qedp5/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: soyoc81csvdspvfl4xmwdx5qedp5[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3591)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4d5a5fb2-a6c6-4525-8cc6-238b210093e0) to Test(default) with arguments: #<GlobalID:0x000000011b2fcc60 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:53:33.881674"], ["updated_at", "2024-07-02 09:53:33.881674"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "s23fki4g4wurbcxxjoug3goa68kq"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:53:33.882281"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:53:33.882514"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:53:33.882685"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: s23fki4g4wurbcxxjoug3goa68kq (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 90894763-fdc7-4322-b16c-7664df3562d8) to Test(default) with arguments: #<GlobalID:0x000000011ae07840 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c3b05707-bf9a-4746-86df-9d6511fe3b82) to Test(default) with arguments: #<GlobalID:0x000000011adedc88 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 657)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1359)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1948)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 746)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:55:31.891287"], ["updated_at", "2024-07-02 09:55:31.891287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000013bcc8aa8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29466-1chfhyt.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:32.025312"], ["updated_at", "2024-07-02 09:55:32.025312"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "sxa35u9oqow7188ujpcnpiyjdt5s"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:32.028974"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.029569"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.029814"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: sxa35u9oqow7188ujpcnpiyjdt5s (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 39ms (Views: 2.6ms | ActiveRecord: 0.8ms | Allocations: 29074)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f804d907-0dbb-48b4-8872-2e3f56256be6) to Test(default) with arguments: #<GlobalID:0x000000011c599648 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000013bb89098 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29466-16g2d64.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:32.045082"], ["updated_at", "2024-07-02 09:55:32.045082"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rebfc2fj841pn2elbljz1wkrsx6j"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:32.046179"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.046704"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.046907"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: rebfc2fj841pn2elbljz1wkrsx6j (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7579)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 283fb743-8d5a-44b0-8f5d-da1fa19c2c32) to Test(default) with arguments: #<GlobalID:0x000000012eb34780 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:32.070709"], ["updated_at", "2024-07-02 09:55:32.070709"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fwv3xc52nccbtepfe5clsanifodv"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:32.072287"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.072997"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.073205"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: fwv3xc52nccbtepfe5clsanifodv (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7163)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: cf677f3b-dd34-4ce2-9064-f89b370b3d67) to Test(default) with arguments: #<GlobalID:0x000000012e2823a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:32.082451"], ["updated_at", "2024-07-02 09:55:32.082451"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "4crr1qtqky0xcd8oo6heo0f8iy7l"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:32.084024"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.084696"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.084940"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.9ms) [0m[32mUploaded file to key: 4crr1qtqky0xcd8oo6heo0f8iy7l (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d9b348bc-aa1c-465c-a51f-22871bb26970) to Test(default) with arguments: #<GlobalID:0x000000010629f728 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1562)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 3.8ms | Allocations: 1623)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 37.6ms | Allocations: 20642)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.5ms | Allocations: 21807)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001064e8778 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29466-3oof3c.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:32.147938"], ["updated_at", "2024-07-02 09:55:32.147938"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "pokex3071xlbwr7lqgj4yrvpk4om"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:32.148836"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.149094"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.149291"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: pokex3071xlbwr7lqgj4yrvpk4om (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 563458f2-929b-4284-a263-6f8e26f2d889) to Test(default) with arguments: #<GlobalID:0x000000012eca4480 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/pokex3071xlbwr7lqgj4yrvpk4om/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: pokex3071xlbwr7lqgj4yrvpk4om[0m
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms | Allocations: 9088)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 28b52c6f-95be-4cbb-b9b8-f85657fb2abc) to Test(default) with arguments: #<GlobalID:0x00000001062ff560 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010654a950 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29466-1gaqnlo.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:32.164705"], ["updated_at", "2024-07-02 09:55:32.164705"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "redd9hpgz5ka21m48ufrpe46zmgi"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:32.165487"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.165742"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.165940"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: redd9hpgz5ka21m48ufrpe46zmgi (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5e24f072-6c4a-4608-8b1f-ec1be8e9a923) to Test(default) with arguments: #<GlobalID:0x000000012ec64830 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/redd9hpgz5ka21m48ufrpe46zmgi/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: redd9hpgz5ka21m48ufrpe46zmgi[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3342)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c67e60c0-c227-496e-b42b-3f543d7b569d) to Test(default) with arguments: #<GlobalID:0x000000012ec45278 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:32.171537"], ["updated_at", "2024-07-02 09:55:32.171537"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0ocahs70vru0jrdz4ah0fqiqftjn"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:32.172374"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.172649"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.172837"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0ocahs70vru0jrdz4ah0fqiqftjn (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 44464557-1ec6-4929-a691-1360faf3164e) to Test(default) with arguments: #<GlobalID:0x00000001065b6290 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/0ocahs70vru0jrdz4ah0fqiqftjn/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 0ocahs70vru0jrdz4ah0fqiqftjn[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3584)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 6ca8fc3f-9a80-4932-bf5e-3d8ce0586d0a) to Test(default) with arguments: #<GlobalID:0x000000012ebf2690 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:32.177514"], ["updated_at", "2024-07-02 09:55:32.177514"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kenrp9subjq2ac5mql97j054k8sa"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:32.178234"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.178490"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.178670"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: kenrp9subjq2ac5mql97j054k8sa (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 30445154-4fc8-448b-8a42-d5a29ca19ed9) to Test(default) with arguments: #<GlobalID:0x000000012e3611e8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1da49174-ef6c-45d3-b2cf-ed0b9b27d510) to Test(default) with arguments: #<GlobalID:0x000000012e378ac8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 663)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.8ms | Allocations: 3782)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 4370)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 746)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:32.192147"], ["updated_at", "2024-07-02 09:55:32.192147"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5cp9j8aigrozu6l5tj80kxjbpdug"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:32.193025"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.193292"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.193480"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 5cp9j8aigrozu6l5tj80kxjbpdug (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f77c28b7-64f2-4194-9e69-ed0825a25e46) to Test(default) with arguments: #<GlobalID:0x000000012e3c9608 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:32.196178"], ["updated_at", "2024-07-02 09:55:32.196178"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1ir8pxab2l43iu99q34ghfqg51s1"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:32.196850"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:32.197098"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:32.197289"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 1ir8pxab2l43iu99q34ghfqg51s1 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bbbb320b-4fa6-4a83-9aa0-d4bbfe506407) to Test(default) with arguments: #<GlobalID:0x000000012e3f71e8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/1ir8pxab2l43iu99q34ghfqg51s1/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 1ir8pxab2l43iu99q34ghfqg51s1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 02dcc30b-f004-446d-85a1-ea57a486f643) to Test(default) with arguments: #<GlobalID:0x0000000106241ee8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:32.203251"], ["updated_at", "2024-07-02 09:55:32.203251"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.4ms | Allocations: 3726)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4029)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 7287)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 8144)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:32.215616"], ["updated_at", "2024-07-02 09:55:32.215616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 581)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1117)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1471)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:32.218552"], ["updated_at", "2024-07-02 09:55:32.218552"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 851)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1401)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:32.221728"], ["updated_at", "2024-07-02 09:55:32.221728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.6ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1903)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2295)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 09:55:48.741588"], ["updated_at", "2024-07-02 09:55:48.741588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:48.819719"], ["updated_at", "2024-07-02 09:55:48.819719"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b2alki0w9jn574fnna8xdwr89bag"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:48.822035"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.822400"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.822636"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: b2alki0w9jn574fnna8xdwr89bag (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4103d7e7-537c-454e-8ad6-2e600d8e6ddc) to Test(default) with arguments: #<GlobalID:0x000000011f6881a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/b2alki0w9jn574fnna8xdwr89bag/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: b2alki0w9jn574fnna8xdwr89bag[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 295cdc81-6ee1-4081-8223-ec41a911f84b) to Test(default) with arguments: #<GlobalID:0x000000010e467620 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:48.841486"], ["updated_at", "2024-07-02 09:55:48.841486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 16.8ms | Allocations: 12423)
  Rendered posts/new.html.erb within layouts/application (Duration: 17.5ms | Allocations: 12887)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 14441)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 16257)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:48.871437"], ["updated_at", "2024-07-02 09:55:48.871437"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1712)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 2074)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:48.875055"], ["updated_at", "2024-07-02 09:55:48.875055"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1434)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1990)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 09:55:48.878016"], ["updated_at", "2024-07-02 09:55:48.878016"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.0ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 3077)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3469)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:48.886604"], ["updated_at", "2024-07-02 09:55:48.886604"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o90ryyg4uroy4c9btq7mydtsvkbh"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:48.887594"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.887883"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.888088"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: o90ryyg4uroy4c9btq7mydtsvkbh (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 68af7627-1436-45fd-83ea-6f760b40cddf) to Test(default) with arguments: #<GlobalID:0x000000010e425e50 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010487ce68 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29513-pgzfz7.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:48.899407"], ["updated_at", "2024-07-02 09:55:48.899407"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "rmsxjjwdtpdls2p1rtsh10kw3kcm"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:48.900889"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.901272"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.901455"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: rmsxjjwdtpdls2p1rtsh10kw3kcm (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 8ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 3596)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.4ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 756a8f9d-823a-4ba1-9e71-2278aba025ff) to Test(default) with arguments: #<GlobalID:0x0000000104ac8a78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000104b5fb58 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29513-14t1qul.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.4ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:48.912457"], ["updated_at", "2024-07-02 09:55:48.912457"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "l47gfhmg9w3dlhnj3bguxl2bysxi"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:48.914259"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.914599"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.915207"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: l47gfhmg9w3dlhnj3bguxl2bysxi (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.6ms | Allocations: 3183)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 71386eff-19db-4bba-8731-7aa6511d759e) to Test(default) with arguments: #<GlobalID:0x00000001058d8f78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:48.927943"], ["updated_at", "2024-07-02 09:55:48.927943"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mki1cl93avvvfevwit1gvmyfhepf"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:48.929106"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.929723"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.929913"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: mki1cl93avvvfevwit1gvmyfhepf (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7159)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e8d5c086-e6fb-4de6-b0af-19e2474fe68e) to Test(default) with arguments: #<GlobalID:0x000000011e19f248 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 09:55:48.938269"], ["updated_at", "2024-07-02 09:55:48.938269"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2yr548j6proh3o9d5brarmxm8kaz"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 09:55:48.939469"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.939731"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.940262"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.7ms) [0m[32mUploaded file to key: 2yr548j6proh3o9d5brarmxm8kaz (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: ebff3006-2ca4-4f09-854c-feed50f783a4) to Test(default) with arguments: #<GlobalID:0x000000010683b9c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1529)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 3.8ms | Allocations: 1461)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 9.9ms | Allocations: 4320)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.1ms | Allocations: 5215)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 913)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000105de9be8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29513-xnfw6p.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:48.971546"], ["updated_at", "2024-07-02 09:55:48.971546"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "bj9mh4tbzo7xn3smqky028xw7geq"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:48.978609"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.979008"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.979220"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: bj9mh4tbzo7xn3smqky028xw7geq (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7473b0f8-4c70-4c35-aba9-eabb466129d9) to Test(default) with arguments: #<GlobalID:0x0000000105dda490 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/bj9mh4tbzo7xn3smqky028xw7geq/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: bj9mh4tbzo7xn3smqky028xw7geq[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 3441)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 19c8676f-200b-4a8e-959f-b3094865303e) to Test(default) with arguments: #<GlobalID:0x0000000105d88dc0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000105d4ba60 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29513-u15olp.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:48.985283"], ["updated_at", "2024-07-02 09:55:48.985283"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "w66nzp1ntbvyu75svty61i25ykas"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:48.985998"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.986254"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.986433"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: w66nzp1ntbvyu75svty61i25ykas (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a3da2fd4-89eb-4007-9cc1-11d94916aa26) to Test(default) with arguments: #<GlobalID:0x0000000105cf8bf8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/w66nzp1ntbvyu75svty61i25ykas/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: w66nzp1ntbvyu75svty61i25ykas[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3417)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 2f75447c-2590-47f6-9d0a-c6c315ad8a07) to Test(default) with arguments: #<GlobalID:0x0000000105ca2c08 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:48.991737"], ["updated_at", "2024-07-02 09:55:48.991737"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hbbxxu8zyjustyyztivhb4t0jq24"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:48.992402"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.992649"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.992837"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: hbbxxu8zyjustyyztivhb4t0jq24 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 66ba4c09-89b0-41dc-9054-0a88f3433a19) to Test(default) with arguments: #<GlobalID:0x0000000106983850 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/hbbxxu8zyjustyyztivhb4t0jq24/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: hbbxxu8zyjustyyztivhb4t0jq24[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3591)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 2b11b243-5e1a-4c64-a062-ff5cffe979a2) to Test(default) with arguments: #<GlobalID:0x00000001069218a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 09:55:48.997165"], ["updated_at", "2024-07-02 09:55:48.997165"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0f2gqn4at9iwta4kjqx6x86u24s9"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 09:55:48.997819"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 09:55:48.998053"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 09:55:48.998233"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 0f2gqn4at9iwta4kjqx6x86u24s9 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d022f607-520d-47fc-bee5-e956191ffaa9) to Test(default) with arguments: #<GlobalID:0x000000011e1b7460 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 6bbd8a23-6dc4-41d0-891a-ebc94bd8c750) to Test(default) with arguments: #<GlobalID:0x0000000106891f78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1475)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 663)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1433)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 2022)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 761)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:00:25.982108"], ["updated_at", "2024-07-02 10:00:25.982108"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:26.070891"], ["updated_at", "2024-07-02 10:00:26.070891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 25.5ms | Allocations: 12427)
  Rendered posts/new.html.erb within layouts/application (Duration: 26.6ms | Allocations: 12891)
  Rendered layout layouts/application.html.erb (Duration: 29.4ms | Allocations: 14445)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms | Allocations: 16262)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:26.113349"], ["updated_at", "2024-07-02 10:00:26.113349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 1712)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 2074)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:26.120784"], ["updated_at", "2024-07-02 10:00:26.120784"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 1434)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1990)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:26.128098"], ["updated_at", "2024-07-02 10:00:26.128098"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.9ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 3077)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 3469)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000014967cba0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29717-7pspuf.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:26.179549"], ["updated_at", "2024-07-02 10:00:26.179549"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9sq0swk3m4nt3kjbprjxtx7feecb"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:26.181614"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.181926"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.182137"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 9sq0swk3m4nt3kjbprjxtx7feecb (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 36ms (Views: 0.6ms | ActiveRecord: 0.7ms | Allocations: 28025)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5996e631-8e28-4cd8-af6d-0127923f5b3e) to Test(default) with arguments: #<GlobalID:0x000000011f22a5b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011f233e60 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29717-gk6ijv.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:26.190298"], ["updated_at", "2024-07-02 10:00:26.190298"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "akminpgy9liwq7kb1gg0y0o1t44j"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:26.191009"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.191259"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.191443"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: akminpgy9liwq7kb1gg0y0o1t44j (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 3197)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: bfd5899c-226f-4f7c-a9ac-de815a5816ff) to Test(default) with arguments: #<GlobalID:0x000000011f2774f8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:26.197186"], ["updated_at", "2024-07-02 10:00:26.197186"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8rg8mfwbvo8ttm9pnx8mkx19ive8"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:26.197869"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.198144"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.198331"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 8rg8mfwbvo8ttm9pnx8mkx19ive8 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7170)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 69415574-b8e5-4a74-b699-45d4074230a8) to Test(default) with arguments: #<GlobalID:0x00000001494b0038 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:26.203829"], ["updated_at", "2024-07-02 10:00:26.203829"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8r10mrd08598oclmcle92a6zxnbc"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:26.204580"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.204810"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.204998"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 8r10mrd08598oclmcle92a6zxnbc (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 2d04558b-09f4-435d-87b2-e748b4a18bdf) to Test(default) with arguments: #<GlobalID:0x00000001494688f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1530)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.8ms | Allocations: 1463)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 6.0ms | Allocations: 4331)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 5227)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 913)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:26.224340"], ["updated_at", "2024-07-02 10:00:26.224340"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vtiv8ubh2z4305iciqoo0ayykb1p"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:26.225261"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.225519"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.225718"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: vtiv8ubh2z4305iciqoo0ayykb1p (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5f418f53-6c2e-45ad-a0ff-9dd895b5acc2) to Test(default) with arguments: #<GlobalID:0x000000011f3f1040 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/vtiv8ubh2z4305iciqoo0ayykb1p/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: vtiv8ubh2z4305iciqoo0ayykb1p[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 0132f1e4-011a-447d-a215-84ad2aa83908) to Test(default) with arguments: #<GlobalID:0x000000014ef69600 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:26.237825"], ["updated_at", "2024-07-02 10:00:26.237825"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tublrkj5wlgp092js76ao5bjwi60"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:26.238667"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.238933"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.239117"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: tublrkj5wlgp092js76ao5bjwi60 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: fb7c2913-aeab-4e18-9d6c-069d067c834f) to Test(default) with arguments: #<GlobalID:0x0000000149309cc0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001492f2db8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29717-4g3et7.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:26.244060"], ["updated_at", "2024-07-02 10:00:26.244060"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "c8upbnkziiutoahuh8ckyl6zhjxj"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:26.245156"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.245466"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.245667"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: c8upbnkziiutoahuh8ckyl6zhjxj (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d6ce51cb-8411-4e0e-8fa9-855fc25aef37) to Test(default) with arguments: #<GlobalID:0x00000001492d9868 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/c8upbnkziiutoahuh8ckyl6zhjxj/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: c8upbnkziiutoahuh8ckyl6zhjxj[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3441)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3353ad47-ec57-4565-8e88-7d8527d8d8db) to Test(default) with arguments: #<GlobalID:0x000000011f420750 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000015a11e788 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29717-1fpkm0s.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:26.256528"], ["updated_at", "2024-07-02 10:00:26.256528"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "vz0ppamy7sjxrkyqosmooyvbe7jx"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:26.257612"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.257991"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.258230"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: vz0ppamy7sjxrkyqosmooyvbe7jx (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a640686c-ec49-4214-a009-4cefaa84fcaf) to Test(default) with arguments: #<GlobalID:0x000000015a1264b0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/vz0ppamy7sjxrkyqosmooyvbe7jx/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: vz0ppamy7sjxrkyqosmooyvbe7jx[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3341)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4c038d4e-f67d-4003-98f0-9c827b3d6171) to Test(default) with arguments: #<GlobalID:0x000000011f43b4d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:26.270953"], ["updated_at", "2024-07-02 10:00:26.270953"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "6wq5gt9c4isqotb0dwiqjwij9saj"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:26.272077"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.272432"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.272652"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: 6wq5gt9c4isqotb0dwiqjwij9saj (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2cede69-7226-4749-af68-9d0ba7f2676f) to Test(default) with arguments: #<GlobalID:0x000000011f46b5c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/6wq5gt9c4isqotb0dwiqjwij9saj/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 6wq5gt9c4isqotb0dwiqjwij9saj[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3593)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 991ce555-9560-49db-9bcd-d1ec0f7e33ac) to Test(default) with arguments: #<GlobalID:0x000000015a137e40 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:26.282339"], ["updated_at", "2024-07-02 10:00:26.282339"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "du8482qeeajryu8bbwmghm0iunci"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:26.283225"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:26.283470"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:26.283668"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: du8482qeeajryu8bbwmghm0iunci (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2bf2b772-592b-4dfc-9ec3-d43014b3b24b) to Test(default) with arguments: #<GlobalID:0x000000011f4a2b88 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 84ca03b3-6c00-4ff4-b890-c35f01d6774b) to Test(default) with arguments: #<GlobalID:0x00000001491cbae8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1472)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 656)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.2ms | Allocations: 1411)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1999)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 746)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:00:43.698769"], ["updated_at", "2024-07-02 10:00:43.698769"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:43.776689"], ["updated_at", "2024-07-02 10:00:43.776689"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "44epzcwcn7llhtoxjbk0t1qyl0x3"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:43.778901"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.779243"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.779463"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 44epzcwcn7llhtoxjbk0t1qyl0x3 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d6b14671-c2b0-41a7-935c-61d31b7adf5d) to Test(default) with arguments: #<GlobalID:0x0000000104d5c550 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:43.786220"], ["updated_at", "2024-07-02 10:00:43.786220"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cv7xp4i9hsopuzkf480pxwureocx"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:43.786997"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.787255"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.787445"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: cv7xp4i9hsopuzkf480pxwureocx (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a09f6754-6e74-4fdc-b7ec-5a27bbfa3dbd) to Test(default) with arguments: #<GlobalID:0x0000000104bd2ce8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/cv7xp4i9hsopuzkf480pxwureocx/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: cv7xp4i9hsopuzkf480pxwureocx[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: da9ba5dd-d7e1-4eea-a856-d1562c8959b8) to Test(default) with arguments: #<GlobalID:0x0000000128b4d768 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001289d2c58 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29770-bgzpme.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:43.807551"], ["updated_at", "2024-07-02 10:00:43.807551"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7zxs6d44qj27iityxo2kjm3xrd80"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:43.808554"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.808833"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.809024"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 7zxs6d44qj27iityxo2kjm3xrd80 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 80062150-893c-4903-a42c-6ddb11c355f9) to Test(default) with arguments: #<GlobalID:0x000000011dec0180 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/7zxs6d44qj27iityxo2kjm3xrd80/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 7zxs6d44qj27iityxo2kjm3xrd80[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3750)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 0010dcb1-a65d-4c67-8e04-5e26cc34abb7) to Test(default) with arguments: #<GlobalID:0x0000000106688ba0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000106639fc8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29770-1i78ihj.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:43.820265"], ["updated_at", "2024-07-02 10:00:43.820265"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "m7lqq43583calapiuh576fzxhhxd"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:43.820995"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.821264"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.821437"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: m7lqq43583calapiuh576fzxhhxd (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 101ff4ac-39fe-4589-bb1f-c20062d499ff) to Test(default) with arguments: #<GlobalID:0x0000000106579a70 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/m7lqq43583calapiuh576fzxhhxd/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: m7lqq43583calapiuh576fzxhhxd[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3431)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c2507fa7-ce0f-4a3a-a5f7-5ec6683f6d0a) to Test(default) with arguments: #<GlobalID:0x00000001064da308 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:43.826850"], ["updated_at", "2024-07-02 10:00:43.826850"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1nueqcq37h0vq6rq7z2cl6hzk3yf"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:43.827483"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.827735"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.827938"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 1nueqcq37h0vq6rq7z2cl6hzk3yf (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f28c14e7-8542-4033-9336-81fbda0fe54c) to Test(default) with arguments: #<GlobalID:0x00000001063ca198 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/1nueqcq37h0vq6rq7z2cl6hzk3yf/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 1nueqcq37h0vq6rq7z2cl6hzk3yf[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms | Allocations: 3588)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f1776bf0-b75d-48b6-acbe-ca26f9e35e67) to Test(default) with arguments: #<GlobalID:0x0000000106340920 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:00:43.832245"], ["updated_at", "2024-07-02 10:00:43.832245"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "l6ohpwdi90bspp8lnbajtxx112el"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:00:43.833022"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.833327"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.833537"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: l6ohpwdi90bspp8lnbajtxx112el (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ce51cb17-260f-4b8f-bf4a-51080e4db3b0) to Test(default) with arguments: #<GlobalID:0x0000000106263cf0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3d8339a1-9235-42af-826e-e0bf7fdb4586) to Test(default) with arguments: #<GlobalID:0x00000001061d8f60 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1565)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 9.5ms | Allocations: 6054)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 23.1ms | Allocations: 16182)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.1ms | Allocations: 18124)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:43.915394"], ["updated_at", "2024-07-02 10:00:43.915394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 6.4ms | Allocations: 3726)
  Rendered posts/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4029)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 7758)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 8615)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:43.933229"], ["updated_at", "2024-07-02 10:00:43.933229"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 581)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 1117)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1471)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:43.938625"], ["updated_at", "2024-07-02 10:00:43.938625"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 851)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1401)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:00:43.944335"], ["updated_at", "2024-07-02 10:00:43.944335"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.5ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 1903)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.6ms | Allocations: 2295)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000106561e98 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29770-1nksynf.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:43.957713"], ["updated_at", "2024-07-02 10:00:43.957713"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7q58i7l9j4y8ap884kxq2wh4xuto"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:43.959149"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.959415"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.959972"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 7q58i7l9j4y8ap884kxq2wh4xuto (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 3299)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 18d722b9-f8ad-4e7e-b967-b495f69802c4) to Test(default) with arguments: #<GlobalID:0x0000000106690648 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000106691598 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29770-cckkvo.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:43.974733"], ["updated_at", "2024-07-02 10:00:43.974733"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "v0oph9wsnbtuid49reoihm3tyve0"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:43.975602"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.975984"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.976179"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: v0oph9wsnbtuid49reoihm3tyve0 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3175)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1d5ddad2-796f-4a63-8a61-49f5a258a649) to Test(default) with arguments: #<GlobalID:0x00000001065ea270 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:43.982049"], ["updated_at", "2024-07-02 10:00:43.982049"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "h2ivzfdkymycze1of1gmlxu6bxno"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:43.982674"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.982909"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.983092"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: h2ivzfdkymycze1of1gmlxu6bxno (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7164)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 309fc4d5-2b2d-49c3-8347-2d70262b0e32) to Test(default) with arguments: #<GlobalID:0x000000010649a398 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:00:43.987840"], ["updated_at", "2024-07-02 10:00:43.987840"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "o0nqz0667wi4762m3ltlujs1or8t"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:00:43.988440"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:00:43.988669"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:00:43.988846"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: o0nqz0667wi4762m3ltlujs1or8t (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c818fee4-1a91-4804-ac25-4683fe269870) to Test(default) with arguments: #<GlobalID:0x00000001063e1af0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1474)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 691)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1447)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1921)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 795)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:01:05.508317"], ["updated_at", "2024-07-02 10:01:05.508317"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010d291978 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29810-hudv9w.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:01:05.607073"], ["updated_at", "2024-07-02 10:01:05.607073"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wh9ddxe1tsowd3s3mq3vfsdrjjl4"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:01:05.611334"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.612086"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.612704"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: wh9ddxe1tsowd3s3mq3vfsdrjjl4 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d40b4c42-798e-463b-8677-46b891db4425) to Test(default) with arguments: #<GlobalID:0x000000013e4b52a0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/wh9ddxe1tsowd3s3mq3vfsdrjjl4/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: wh9ddxe1tsowd3s3mq3vfsdrjjl4[0m
Completed 500 Internal Server Error in 50ms (ActiveRecord: 0.7ms | Allocations: 31350)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3b412591-8ae5-4872-96a8-684512105973) to Test(default) with arguments: #<GlobalID:0x000000010d20bb48 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010d28a8d0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29810-11ho1t6.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:01:05.636213"], ["updated_at", "2024-07-02 10:01:05.636213"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "1gf3eew2o5metegkrbt8fzc2mexv"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:01:05.637589"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.638300"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.638492"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 1gf3eew2o5metegkrbt8fzc2mexv (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c3464c23-fd2a-47a2-9fc5-acf957f0408b) to Test(default) with arguments: #<GlobalID:0x000000010d338d68 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/1gf3eew2o5metegkrbt8fzc2mexv/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 1gf3eew2o5metegkrbt8fzc2mexv[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3432)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 653a8b9d-f804-460e-9706-bdbb80e39901) to Test(default) with arguments: #<GlobalID:0x000000010d3d96c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:01:05.649944"], ["updated_at", "2024-07-02 10:01:05.649944"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8l3gfrjcrl3vb6kpuw4200d0w22y"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:01:05.651631"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.652547"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.652753"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 8l3gfrjcrl3vb6kpuw4200d0w22y (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 602adc81-847f-48db-bf66-ee857e9e80e5) to Test(default) with arguments: #<GlobalID:0x000000010d56b388 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/8l3gfrjcrl3vb6kpuw4200d0w22y/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 8l3gfrjcrl3vb6kpuw4200d0w22y[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 3589)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b974ef4b-29ed-4caa-8c0f-e13df4357690) to Test(default) with arguments: #<GlobalID:0x000000010d5f82d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:01:05.661213"], ["updated_at", "2024-07-02 10:01:05.661213"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "forkcqeh61karbenjjjphmvo7h2p"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:01:05.662517"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.663230"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.663804"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: forkcqeh61karbenjjjphmvo7h2p (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 54c256a5-3506-4332-8c3a-9c98524b1cd4) to Test(default) with arguments: #<GlobalID:0x000000013e4dd908 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e0ef855a-41a6-4b92-aee6-ae415762cbbf) to Test(default) with arguments: #<GlobalID:0x000000010d76b188 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1565)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 9.5ms | Allocations: 6052)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 21.3ms | Allocations: 13160)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.1ms | Allocations: 15103)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 911)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:01:05.734930"], ["updated_at", "2024-07-02 10:01:05.734930"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.9ms | Allocations: 4908)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 5211)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | Allocations: 6255)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 7112)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:01:05.743250"], ["updated_at", "2024-07-02 10:01:05.743250"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 1175)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1708)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 2062)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:01:05.746033"], ["updated_at", "2024-07-02 10:01:05.746033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | Allocations: 1434)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1984)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:01:05.749002"], ["updated_at", "2024-07-02 10:01:05.749002"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 3077)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3469)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:01:05.757356"], ["updated_at", "2024-07-02 10:01:05.757356"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tgtvtisv781o1cdixsqh8x6npbxs"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:01:05.758293"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.758570"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.758773"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: tgtvtisv781o1cdixsqh8x6npbxs (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d260c72f-2e84-4c03-8d48-911591ce7c30) to Test(default) with arguments: #<GlobalID:0x000000013e6a54c0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:01:05.763566"], ["updated_at", "2024-07-02 10:01:05.763566"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "blvimp6xxzcw6nw8rjistmalxpzq"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:01:05.764265"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.764528"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.764704"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: blvimp6xxzcw6nw8rjistmalxpzq (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9c3d58d4-a779-47cb-b1f3-97c928784af0) to Test(default) with arguments: #<GlobalID:0x000000013e6edf18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/blvimp6xxzcw6nw8rjistmalxpzq/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: blvimp6xxzcw6nw8rjistmalxpzq[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 59e8216a-b2ad-4141-827d-9b0a471782d8) to Test(default) with arguments: #<GlobalID:0x000000010d3a9bd0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010d3912b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29810-100dkdw.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:01:05.770523"], ["updated_at", "2024-07-02 10:01:05.770523"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uybj34mddovilaek7a6v7or4tuej"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:01:05.771254"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.771503"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.771691"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: uybj34mddovilaek7a6v7or4tuej (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 3304)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9f7faf7e-cbaa-4fb4-9a06-d0015f090413) to Test(default) with arguments: #<GlobalID:0x000000013e705140 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010d33a370 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29810-7frbff.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:01:05.777763"], ["updated_at", "2024-07-02 10:01:05.777763"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zzmxwvp8sl5hdipod3tzaoe914b6"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:01:05.778614"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.778895"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.779099"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: zzmxwvp8sl5hdipod3tzaoe914b6 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3172)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: cf4d4d66-b4d9-41da-9265-f6d5672c175b) to Test(default) with arguments: #<GlobalID:0x000000012c30ddb0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:01:05.785421"], ["updated_at", "2024-07-02 10:01:05.785421"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "medmci7fhtryfcwzri689i670ou0"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:01:05.786045"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.786291"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.786473"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: medmci7fhtryfcwzri689i670ou0 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7159)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1de2e020-a229-4e8b-94ea-58b345b55ca6) to Test(default) with arguments: #<GlobalID:0x000000010d24eda8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:01:05.791279"], ["updated_at", "2024-07-02 10:01:05.791279"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "72ov566orp011pxn8zj39u9f4rbr"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:01:05.791907"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:01:05.792188"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:01:05.792372"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 72ov566orp011pxn8zj39u9f4rbr (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a147f0ce-5cc0-4f17-98fd-4478c69a52b0) to Test(default) with arguments: #<GlobalID:0x000000012c3e76f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1442)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1915)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:02:27.738138"], ["updated_at", "2024-07-02 10:02:27.738138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000119752578 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29887-1fqgypi.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:02:27.831397"], ["updated_at", "2024-07-02 10:02:27.831397"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ouxtdpj4cjbeiuswe1yh3gfjravu"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:02:27.833556"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.833863"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.834078"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ouxtdpj4cjbeiuswe1yh3gfjravu (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 31ms (Views: 1.5ms | ActiveRecord: 0.6ms | Allocations: 29075)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b4d3e5ec-00a4-4d14-813d-53e813923f42) to Test(default) with arguments: #<GlobalID:0x00000001194255d0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001193fadd0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29887-2qrnkb.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:02:27.843261"], ["updated_at", "2024-07-02 10:02:27.843261"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "750e6sjenguu97r3mgrx604gojks"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:02:27.843945"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.844187"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.844366"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 750e6sjenguu97r3mgrx604gojks (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7662)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1fdf3f42-a6cc-436e-ba5e-cee17cb4f713) to Test(default) with arguments: #<GlobalID:0x00000001192395f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:02:27.857399"], ["updated_at", "2024-07-02 10:02:27.857399"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0tfcs3yvcccqcr88dvra2ius0xuv"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:02:27.858129"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.858397"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.858584"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0tfcs3yvcccqcr88dvra2ius0xuv (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7163)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 78b3d0f6-f4d7-4397-9df5-4a3659dd087b) to Test(default) with arguments: #<GlobalID:0x00000001190ea8e8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:02:27.863694"], ["updated_at", "2024-07-02 10:02:27.863694"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "l61yn6pgdo2s4hd7bwfvq7yafdsk"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:02:27.864356"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.864601"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.864786"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: l61yn6pgdo2s4hd7bwfvq7yafdsk (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9f93c8ca-90bc-4b34-8b41-b4d07bdd862a) to Test(default) with arguments: #<GlobalID:0x000000011901bf48 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1562)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.1ms | Allocations: 1623)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 11.1ms | Allocations: 8160)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.1ms | Allocations: 9325)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:02:27.888064"], ["updated_at", "2024-07-02 10:02:27.888064"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "u31j4jo95mg9vdkqwu3ki7e691lg"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:02:27.888865"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.889121"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.889309"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: u31j4jo95mg9vdkqwu3ki7e691lg (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: ce9dd690-1c3a-4cb6-a9ab-db816feb56ff) to Test(default) with arguments: #<GlobalID:0x000000011804ed68 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001193ea598 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29887-3ipcrm.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:02:27.931960"], ["updated_at", "2024-07-02 10:02:27.931960"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7886b5b28eshyjb3mg5eb25h2fts"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:02:27.932923"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.933310"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.933508"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 7886b5b28eshyjb3mg5eb25h2fts (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bad9c115-a26b-483d-b864-dde947790cbd) to Test(default) with arguments: #<GlobalID:0x00000001191cba78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/7886b5b28eshyjb3mg5eb25h2fts/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 7886b5b28eshyjb3mg5eb25h2fts[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 9111)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 3ec6ad38-56c2-469d-b9ca-67cae602c13b) to Test(default) with arguments: #<GlobalID:0x00000001190780b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000118690208 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29887-qzsinf.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:02:27.946622"], ["updated_at", "2024-07-02 10:02:27.946622"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "8loaqew3bj4bqhhu4ifh2ds9mbtm"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:02:27.947414"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.947682"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.947888"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 8loaqew3bj4bqhhu4ifh2ds9mbtm (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 44b9882b-35e1-453c-9033-4d1ee1146680) to Test(default) with arguments: #<GlobalID:0x000000011eab0288 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/8loaqew3bj4bqhhu4ifh2ds9mbtm/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 8loaqew3bj4bqhhu4ifh2ds9mbtm[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3334)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f7f8ff39-b7b2-4a90-8c5a-8ad472d6ff44) to Test(default) with arguments: #<GlobalID:0x000000011e950a78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:02:27.953450"], ["updated_at", "2024-07-02 10:02:27.953450"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cm5tp54atm18fwuyghyxhnjlid5i"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:02:27.954258"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.954520"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.954733"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: cm5tp54atm18fwuyghyxhnjlid5i (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1ecb97a-f013-4e30-8b42-d7641569ab54) to Test(default) with arguments: #<GlobalID:0x000000012faf5c00 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/cm5tp54atm18fwuyghyxhnjlid5i/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: cm5tp54atm18fwuyghyxhnjlid5i[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3589)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 91db3257-6cd6-4342-8256-4850b7d5aa11) to Test(default) with arguments: #<GlobalID:0x000000012fe2c4f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:02:27.962102"], ["updated_at", "2024-07-02 10:02:27.962102"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "qtfpiq7g2bj1zn6tlo1sgiw3knwv"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:02:27.963238"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.963486"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.963921"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: qtfpiq7g2bj1zn6tlo1sgiw3knwv (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aa72f76f-0910-4707-a714-78394ee34b57) to Test(default) with arguments: #<GlobalID:0x00000001182dc558 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8a0c3780-1969-4180-b157-5b248731b22f) to Test(default) with arguments: #<GlobalID:0x0000000118395378 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1475)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.7ms | Allocations: 663)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.4ms | Allocations: 1419)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 2008)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 761)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:02:27.988018"], ["updated_at", "2024-07-02 10:02:27.988018"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "m0u4ow628vd4d0oqpj0m8vub3bhm"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:02:27.989660"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:02:27.989929"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:02:27.990643"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: m0u4ow628vd4d0oqpj0m8vub3bhm (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c0cfcdd1-da2e-42ad-bde7-be1fd945e7f9) to Test(default) with arguments: #<GlobalID:0x0000000119200c78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/m0u4ow628vd4d0oqpj0m8vub3bhm/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: m0u4ow628vd4d0oqpj0m8vub3bhm[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 632fa6c4-9288-4611-94e4-f4f5f2718f1a) to Test(default) with arguments: #<GlobalID:0x0000000119283880 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:02:28.003884"], ["updated_at", "2024-07-02 10:02:28.003884"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 8.9ms | Allocations: 3726)
  Rendered posts/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4029)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | Allocations: 5080)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms | Allocations: 5937)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:02:28.021823"], ["updated_at", "2024-07-02 10:02:28.021823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 581)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1117)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1471)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:02:28.026978"], ["updated_at", "2024-07-02 10:02:28.026978"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 851)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1401)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:02:28.031874"], ["updated_at", "2024-07-02 10:02:28.031874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.9ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 1908)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2300)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:03:19.361312"], ["updated_at", "2024-07-02 10:03:19.361312"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:03:19.452664"], ["updated_at", "2024-07-02 10:03:19.452664"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 21.2ms | Allocations: 16510)
  Rendered posts/new.html.erb within layouts/application (Duration: 21.8ms | Allocations: 16947)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 16985)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 18801)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:03:19.485888"], ["updated_at", "2024-07-02 10:03:19.485888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4058)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 7176)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms | Allocations: 7538)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.3ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:03:19.499505"], ["updated_at", "2024-07-02 10:03:19.499505"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | Allocations: 1434)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 1990)
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:03:19.545089"], ["updated_at", "2024-07-02 10:03:19.545089"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.3ms | Allocations: 2478)
  Rendered posts/edit.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2698)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | Allocations: 3224)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3616)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:03:19.601637"], ["updated_at", "2024-07-02 10:03:19.601637"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gm9893vacag5ejoihqqwy2mqrokv"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:03:19.605291"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.611340"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.611654"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: gm9893vacag5ejoihqqwy2mqrokv (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8e878ea1-3e65-47ad-9322-104ed8648426) to Test(default) with arguments: #<GlobalID:0x0000000130a18c28 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:03:19.617940"], ["updated_at", "2024-07-02 10:03:19.617940"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "l6y5cihd5nk61339cu4xedid6uiv"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:03:19.618797"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.619047"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.619227"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: l6y5cihd5nk61339cu4xedid6uiv (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9dda98be-d678-46af-8e2d-a6d5781db3f0) to Test(default) with arguments: #<GlobalID:0x0000000131391868 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/l6y5cihd5nk61339cu4xedid6uiv/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: l6y5cihd5nk61339cu4xedid6uiv[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1e39a91f-7514-4f0b-a2bd-209f7b27c515) to Test(default) with arguments: #<GlobalID:0x000000013135bd30 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000131331cb0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29947-5f8fj2.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:03:19.633754"], ["updated_at", "2024-07-02 10:03:19.633754"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b74m7t81nu28dle33efl7ktvluk8"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:03:19.634670"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.634945"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.635129"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: b74m7t81nu28dle33efl7ktvluk8 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 208208a8-a8d1-409c-a1fd-17b94c69c162) to Test(default) with arguments: #<GlobalID:0x000000013637c4e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/b74m7t81nu28dle33efl7ktvluk8/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: b74m7t81nu28dle33efl7ktvluk8[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 3734)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 42637454-f232-4dad-a29f-e25d2589eaea) to Test(default) with arguments: #<GlobalID:0x000000013639d320 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001312da258 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29947-rvltn0.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:03:19.640867"], ["updated_at", "2024-07-02 10:03:19.640867"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wdg9y43dqhq6ubeb7em16iqt8cgw"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:03:19.641553"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.641787"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.641959"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: wdg9y43dqhq6ubeb7em16iqt8cgw (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: be2d4c47-4c2d-462d-a7ed-b1be52ce5f83) to Test(default) with arguments: #<GlobalID:0x00000001312ba048 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/wdg9y43dqhq6ubeb7em16iqt8cgw/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: wdg9y43dqhq6ubeb7em16iqt8cgw[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 3429)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b9537c29-e836-40fa-af41-51bd0dd8b653) to Test(default) with arguments: #<GlobalID:0x00000001363fa160 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:03:19.647486"], ["updated_at", "2024-07-02 10:03:19.647486"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "re6u96kz4n42uqb885y0qkg3b36n"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:03:19.648291"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.648553"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.648728"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: re6u96kz4n42uqb885y0qkg3b36n (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e9ff4b28-e7fb-4c72-983c-a9bba0e19e17) to Test(default) with arguments: #<GlobalID:0x0000000127840378 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/re6u96kz4n42uqb885y0qkg3b36n/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: re6u96kz4n42uqb885y0qkg3b36n[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3593)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a2e9c2a1-4b7c-4fbe-8fe6-2d5278d5bde0) to Test(default) with arguments: #<GlobalID:0x000000013640a948 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:03:19.653350"], ["updated_at", "2024-07-02 10:03:19.653350"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mhbr0ollzdzlt8lcmq5itish1t1f"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:03:19.654048"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.654285"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.654456"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: mhbr0ollzdzlt8lcmq5itish1t1f (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 962b8d58-f131-456e-9c38-394911deebbb) to Test(default) with arguments: #<GlobalID:0x0000000136430e18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 848e6e1e-cc14-495f-8c66-3f35063b90de) to Test(default) with arguments: #<GlobalID:0x000000013644c730 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1531)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.8ms | Allocations: 1431)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 16.8ms | Allocations: 12638)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.1ms | Allocations: 13649)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 875)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000131152868 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29947-1lm2fb7.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:03:19.682703"], ["updated_at", "2024-07-02 10:03:19.682703"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0h2x0t1ewq65tke8w0wqcu94xz1s"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:03:19.683505"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.683746"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.683939"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0h2x0t1ewq65tke8w0wqcu94xz1s (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 3303)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 58c9b7fa-e2b0-4c2f-beed-265637850990) to Test(default) with arguments: #<GlobalID:0x000000013111fa80 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011787c0e0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-29947-10mbu8x.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:03:19.690799"], ["updated_at", "2024-07-02 10:03:19.690799"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uhobdb1c7di6ukdd0u3mhuh955yt"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:03:19.691511"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.691751"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.691926"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: uhobdb1c7di6ukdd0u3mhuh955yt (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 3175)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 802013ab-e413-4014-a658-6c992a383c04) to Test(default) with arguments: #<GlobalID:0x0000000130a9cd70 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:03:19.697573"], ["updated_at", "2024-07-02 10:03:19.697573"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y9ja0bjwr8cfpe5e40otk1mao643"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:03:19.698221"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.698458"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.698628"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: y9ja0bjwr8cfpe5e40otk1mao643 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7162)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: c0cfefba-ee41-47c8-a2e6-4e0ee8a03958) to Test(default) with arguments: #<GlobalID:0x000000013104d620 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:03:19.703875"], ["updated_at", "2024-07-02 10:03:19.703875"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "h5rfx133px0eco87hbf53a4qiw7e"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:03:19.704705"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:03:19.704962"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:03:19.705158"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: h5rfx133px0eco87hbf53a4qiw7e (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 31425ba1-72e8-4d94-810a-5cfba057495a) to Test(default) with arguments: #<GlobalID:0x000000013100c328 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1474)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.1ms | Allocations: 1442)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1915)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:05:08.945345"], ["updated_at", "2024-07-02 10:05:08.945345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:09.033293"], ["updated_at", "2024-07-02 10:05:09.033293"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "a4a5paq56lacwz7ejvlnhzry4ws4"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:09.035471"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.035798"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.036015"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: a4a5paq56lacwz7ejvlnhzry4ws4 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f0a4caa5-831e-4a45-86f0-7b5bb00ec9fc) to Test(default) with arguments: #<GlobalID:0x000000011c2b4900 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:09.043055"], ["updated_at", "2024-07-02 10:05:09.043055"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ch0gl45v6s77rha4yvg5gnf5ug9e"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:09.043934"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.044213"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.044412"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ch0gl45v6s77rha4yvg5gnf5ug9e (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5d074de9-8747-49ff-b500-1399b99ff49a) to Test(default) with arguments: #<GlobalID:0x000000011b67fc20 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/ch0gl45v6s77rha4yvg5gnf5ug9e/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: ch0gl45v6s77rha4yvg5gnf5ug9e[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: cbea6e86-70b1-446c-9a51-b7a9c44e49a1) to Test(default) with arguments: #<GlobalID:0x000000011b3678a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011c3dd4d0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30034-gzwfcl.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:09.109290"], ["updated_at", "2024-07-02 10:05:09.109290"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zyropjdasx8lqbus1jzkhn4tv7yz"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:09.111148"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.111899"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.112102"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: zyropjdasx8lqbus1jzkhn4tv7yz (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0aaec433-2902-49b3-a33f-9625057af7c2) to Test(default) with arguments: #<GlobalID:0x000000011c509bd8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/zyropjdasx8lqbus1jzkhn4tv7yz/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: zyropjdasx8lqbus1jzkhn4tv7yz[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 3752)
  [1m[36mCkeditor::Picture Load (0.5ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 79c21a43-d830-43f6-a739-6e7d06a0887f) to Test(default) with arguments: #<GlobalID:0x0000000129a820a8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011c60d908 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30034-1gymfs1.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:09.123032"], ["updated_at", "2024-07-02 10:05:09.123032"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2rjqjl3bxv5zs3a2hwkn8cfqi4cr"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:09.124355"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.124998"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.125211"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 2rjqjl3bxv5zs3a2hwkn8cfqi4cr (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4e98bce1-6b96-49ac-ad7c-d9c1e4512473) to Test(default) with arguments: #<GlobalID:0x000000011c6baba8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/2rjqjl3bxv5zs3a2hwkn8cfqi4cr/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 2rjqjl3bxv5zs3a2hwkn8cfqi4cr[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3428)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 78e9526a-c399-418b-bd8c-5c5045a6ec18) to Test(default) with arguments: #<GlobalID:0x000000011c74b4c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:09.136083"], ["updated_at", "2024-07-02 10:05:09.136083"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7uiabpmcn0q9m42tvvtu86nr4vqy"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:09.137173"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.137807"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.138325"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: 7uiabpmcn0q9m42tvvtu86nr4vqy (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bd0c8de6-2d35-4195-b66b-bfd5903e5a04) to Test(default) with arguments: #<GlobalID:0x0000000129aabc00 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/7uiabpmcn0q9m42tvvtu86nr4vqy/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 7uiabpmcn0q9m42tvvtu86nr4vqy[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 3592)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b6f8f28b-3453-4989-8923-c9e8639e32b7) to Test(default) with arguments: #<GlobalID:0x0000000129b28c78 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:09.145858"], ["updated_at", "2024-07-02 10:05:09.145858"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "epf4d3jwmd7jv265jfhjh7hp835j"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:09.147086"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.147627"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.147823"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: epf4d3jwmd7jv265jfhjh7hp835j (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 991c2ab7-072e-4c14-9a58-083c940105d5) to Test(default) with arguments: #<GlobalID:0x000000011d1366b8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: fd96d259-f21b-47d6-a9f5-b8db0e79ec69) to Test(default) with arguments: #<GlobalID:0x000000013c438248 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 8ms (ActiveRecord: 6.2ms | Allocations: 1563)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 9.1ms | Allocations: 6051)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 54.6ms | Allocations: 28044)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.1ms | Allocations: 30013)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 904)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011d463868 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30034-ktmtp6.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:09.225984"], ["updated_at", "2024-07-02 10:05:09.225984"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "y4ghw4rdxajy6dh61vcd3h9myclh"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:09.226837"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.227100"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.227299"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: y4ghw4rdxajy6dh61vcd3h9myclh (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 3301)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 365de819-3d63-48ef-9b2b-abc6ab359111) to Test(default) with arguments: #<GlobalID:0x000000011d49db80 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011d4a5650 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30034-keajxf.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:09.233702"], ["updated_at", "2024-07-02 10:05:09.233702"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9i2palc8qq2eh9lvk2d47s3nqmms"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:09.234357"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.234608"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.234780"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 9i2palc8qq2eh9lvk2d47s3nqmms (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3181)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: a1648d79-9009-4935-8c45-2bd16448470b) to Test(default) with arguments: #<GlobalID:0x0000000129c2b990 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:09.240550"], ["updated_at", "2024-07-02 10:05:09.240550"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "tmtyhyg8ttcc2wxxm228dhua4dbo"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:09.241219"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.241459"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.241634"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: tmtyhyg8ttcc2wxxm228dhua4dbo (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7159)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: fad4b33f-81d7-444a-a6cb-7acc9565eb5b) to Test(default) with arguments: #<GlobalID:0x000000011c749808 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:09.246205"], ["updated_at", "2024-07-02 10:05:09.246205"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0pwebv3u785keluwz07ygslsduvh"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:09.246809"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:09.247020"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:09.247190"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 0pwebv3u785keluwz07ygslsduvh (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: d9f03970-a89a-4cae-bf50-9c96d0ed7df2) to Test(default) with arguments: #<GlobalID:0x000000011c702728 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1473)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2164)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 2658)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:09.258802"], ["updated_at", "2024-07-02 10:05:09.258802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.1ms | Allocations: 3723)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4024)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 5499)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 6356)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:09.268883"], ["updated_at", "2024-07-02 10:05:09.268883"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1115)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1469)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:09.271570"], ["updated_at", "2024-07-02 10:05:09.271570"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 851)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 1401)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:09.273975"], ["updated_at", "2024-07-02 10:05:09.273975"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.6ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.8ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1903)
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 2295)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:05:22.013209"], ["updated_at", "2024-07-02 10:05:22.013209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012fa0a480 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30067-12foway.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:22.158232"], ["updated_at", "2024-07-02 10:05:22.158232"]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "0j46nlfytrxefw1rnsxr7dor9qs0"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:22.163028"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.164083"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.164871"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 0j46nlfytrxefw1rnsxr7dor9qs0 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 857a48ca-f248-4869-ae6c-0fea2f2afb52) to Test(default) with arguments: #<GlobalID:0x000000010fbaa9e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/0j46nlfytrxefw1rnsxr7dor9qs0/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 0j46nlfytrxefw1rnsxr7dor9qs0[0m
Completed 500 Internal Server Error in 65ms (ActiveRecord: 0.7ms | Allocations: 31360)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 8c67ab7b-0d01-4db9-a135-0e95d1c66999) to Test(default) with arguments: #<GlobalID:0x000000010fd22958 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001380dd638 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30067-e21xuj.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:22.189779"], ["updated_at", "2024-07-02 10:05:22.189779"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2uhwminbvuqxmfacxqohhhcm9ycx"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:22.190552"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.190800"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.190988"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 2uhwminbvuqxmfacxqohhhcm9ycx (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 04e3f097-129b-45a4-b9ae-eec0d2d0f98d) to Test(default) with arguments: #<GlobalID:0x000000013810c938 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/2uhwminbvuqxmfacxqohhhcm9ycx/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 2uhwminbvuqxmfacxqohhhcm9ycx[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3432)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 22f62a93-1fc2-4500-9de5-19d380b1d0fb) to Test(default) with arguments: #<GlobalID:0x0000000138130fb8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:22.196055"], ["updated_at", "2024-07-02 10:05:22.196055"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "p8c27qyrg8dqk0m03blgay83xakq"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:22.196732"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.196969"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.197143"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: p8c27qyrg8dqk0m03blgay83xakq (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e904d9cf-f8e8-49d8-8ca6-7c80c1d48dd6) to Test(default) with arguments: #<GlobalID:0x00000001381693e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/p8c27qyrg8dqk0m03blgay83xakq/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: p8c27qyrg8dqk0m03blgay83xakq[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 3591)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: bf43c33e-7525-4aeb-b25c-409fc561ce42) to Test(default) with arguments: #<GlobalID:0x000000010e8b7ab8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:22.202272"], ["updated_at", "2024-07-02 10:05:22.202272"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ub6mgqdp2u55siyevivhsdjqao68"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:22.203167"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.203436"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.203632"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ub6mgqdp2u55siyevivhsdjqao68 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a0b13e58-4450-4abd-b89e-8a6ad7e5b988) to Test(default) with arguments: #<GlobalID:0x000000010ff57930 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b1f1c7b0-5a05-4835-8fea-bf8f8ec5316a) to Test(default) with arguments: #<GlobalID:0x000000010ff6d6e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1565)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 9.2ms | Allocations: 6051)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 17.7ms | Allocations: 17547)
Completed 200 OK in 21ms (Views: 20.8ms | ActiveRecord: 0.1ms | Allocations: 19516)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 904)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000105106d90 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30067-mtabjq.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:22.237836"], ["updated_at", "2024-07-02 10:05:22.237836"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "hlwvf7ouxq47c2ghenzbis8ldmwl"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:22.238760"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.239032"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.239216"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: hlwvf7ouxq47c2ghenzbis8ldmwl (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.2ms | Allocations: 6327)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5a6add40-61dd-46de-bf71-7cc16aad8be3) to Test(default) with arguments: #<GlobalID:0x000000010515acb0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000105172b08 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30067-m2lttr.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:22.246006"], ["updated_at", "2024-07-02 10:05:22.246006"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "lp45uj5q9qqg5g58y3a4we4dcfjq"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:22.246732"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.246982"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.247160"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: lp45uj5q9qqg5g58y3a4we4dcfjq (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 3183)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 0acd12f5-dc45-4ec3-b108-5f0e3b3f50f4) to Test(default) with arguments: #<GlobalID:0x000000010fa50338 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:22.252766"], ["updated_at", "2024-07-02 10:05:22.252766"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "9q8i4dlcb17wm4m7ahrpyh3vncvi"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:22.253394"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.253614"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.253799"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 9q8i4dlcb17wm4m7ahrpyh3vncvi (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 7160)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 6ccccd93-6288-4b5b-b3f1-fcdb2f072331) to Test(default) with arguments: #<GlobalID:0x00000001052407d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:22.258308"], ["updated_at", "2024-07-02 10:05:22.258308"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "x8w7sgk63suxo17qxte4y5or39vf"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:22.258909"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.259142"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.259311"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: x8w7sgk63suxo17qxte4y5or39vf (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 39d205d8-75c8-4254-80c9-8fbd810a8f49) to Test(default) with arguments: #<GlobalID:0x000000010e9970f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1474)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 687)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.4ms | Allocations: 2164)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 2658)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:05:22.270337"], ["updated_at", "2024-07-02 10:05:22.270337"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "wqyy1rssq1d1s5kx5333yz1kv574"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:05:22.271186"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.271429"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.271623"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: wqyy1rssq1d1s5kx5333yz1kv574 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 23daabc9-7a7f-4690-9e1c-7c23c02dba0c) to Test(default) with arguments: #<GlobalID:0x00000001381d2390 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:05:22.274351"], ["updated_at", "2024-07-02 10:05:22.274351"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "3uf9zaalajb5c0ezxylndee3ff9y"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:05:22.274990"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:05:22.275236"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:05:22.275420"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: 3uf9zaalajb5c0ezxylndee3ff9y (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cc6fde60-474e-4b8f-b8ce-5cf402af9a46) to Test(default) with arguments: #<GlobalID:0x00000001381f9e68 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/3uf9zaalajb5c0ezxylndee3ff9y/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: 3uf9zaalajb5c0ezxylndee3ff9y[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9657745f-28c3-458b-b567-cda7a1b8fcb4) to Test(default) with arguments: #<GlobalID:0x000000010f8b4e20 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:22.282723"], ["updated_at", "2024-07-02 10:05:22.282723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.7ms | Allocations: 3723)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 4024)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | Allocations: 6754)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 7611)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:22.291649"], ["updated_at", "2024-07-02 10:05:22.291649"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2615)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2969)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:22.295059"], ["updated_at", "2024-07-02 10:05:22.295059"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 2351)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2901)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:05:22.298376"], ["updated_at", "2024-07-02 10:05:22.298376"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.6ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 3402)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 3794)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:06:54.487758"], ["updated_at", "2024-07-02 10:06:54.487758"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:06:54.572909"], ["updated_at", "2024-07-02 10:06:54.572909"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "c177oxwtt9iwxp31qia7conxcp8u"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:06:54.575129"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.575479"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.575711"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: c177oxwtt9iwxp31qia7conxcp8u (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d8b38523-c07d-4a69-a429-7f3152e3c369) to Test(default) with arguments: #<GlobalID:0x000000013225c708 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/c177oxwtt9iwxp31qia7conxcp8u/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: c177oxwtt9iwxp31qia7conxcp8u[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 26e5b794-54a7-4d61-ae28-fc4da1ccce0d) to Test(default) with arguments: #<GlobalID:0x000000013213de30 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000130bb17b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30144-iymlse.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:06:54.597578"], ["updated_at", "2024-07-02 10:06:54.597578"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "nn9w0fnmnbu32djtij4ezyryyfnm"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:06:54.598539"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.598831"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.599044"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: nn9w0fnmnbu32djtij4ezyryyfnm (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fd3f6083-232f-4dd2-bfa0-c6a55acbfbef) to Test(default) with arguments: #<GlobalID:0x00000001378afe48 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/nn9w0fnmnbu32djtij4ezyryyfnm/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: nn9w0fnmnbu32djtij4ezyryyfnm[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms | Allocations: 4023)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 78dedaff-c62f-41db-b9b8-42f630386898) to Test(default) with arguments: #<GlobalID:0x00000001527abf40 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000152323c48 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30144-utzpbe.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:06:54.605997"], ["updated_at", "2024-07-02 10:06:54.605997"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "i79ia8rpb0bal8u7tw4tbp9bdhkr"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:06:54.607405"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.608049"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.608240"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: i79ia8rpb0bal8u7tw4tbp9bdhkr (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5c8f6fea-947a-4740-98c0-8255b36ecc36) to Test(default) with arguments: #<GlobalID:0x0000000137855b00 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/i79ia8rpb0bal8u7tw4tbp9bdhkr/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: i79ia8rpb0bal8u7tw4tbp9bdhkr[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms | Allocations: 3430)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 122252cd-dced-4322-8eb7-60dd12b05a24) to Test(default) with arguments: #<GlobalID:0x000000013092cb20 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:06:54.616262"], ["updated_at", "2024-07-02 10:06:54.616262"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "khfw1wilkeii8bav8ywguzp3jf51"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:06:54.617554"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.618203"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.618658"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.8ms) [0m[32mUploaded file to key: khfw1wilkeii8bav8ywguzp3jf51 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bc619d54-52ac-4b69-8f5d-255939393c43) to Test(default) with arguments: #<GlobalID:0x0000000130babb58 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/khfw1wilkeii8bav8ywguzp3jf51/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: khfw1wilkeii8bav8ywguzp3jf51[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms | Allocations: 3586)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7353c48f-2c7a-40c9-91df-b9b20a30aaad) to Test(default) with arguments: #<GlobalID:0x0000000130d37490 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:06:54.627342"], ["updated_at", "2024-07-02 10:06:54.627342"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "fuxjpesmykwxve59ejwd0d19agyg"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:06:54.628698"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.629312"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.629500"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: fuxjpesmykwxve59ejwd0d19agyg (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0f508ed5-d3d0-4043-83cd-5cbbbe59d903) to Test(default) with arguments: #<GlobalID:0x00000001320d58d0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.4ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 9257dca0-0705-4f21-975e-37f46088eb24) to Test(default) with arguments: #<GlobalID:0x0000000132175510 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 3ms (ActiveRecord: 0.5ms | Allocations: 1565)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 13.4ms | Allocations: 6051)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 253)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 51.3ms | Allocations: 25005)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.1ms | Allocations: 26974)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 904)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001327a3e00 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30144-msu0c2.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:06:54.716734"], ["updated_at", "2024-07-02 10:06:54.716734"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "kqo5mjfmwo2l3s3qwxdyl79oiu44"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:06:54.717849"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.718134"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.718322"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: kqo5mjfmwo2l3s3qwxdyl79oiu44 (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 19ms (Views: 0.7ms | ActiveRecord: 0.2ms | Allocations: 6349)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: f9f3e3a0-5dd2-444a-8db0-97b082142708) to Test(default) with arguments: #<GlobalID:0x00000001200d2c50 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001200e9a40 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30144-1v6ic7f.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:06:54.725079"], ["updated_at", "2024-07-02 10:06:54.725079"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "gdmptsfc8t28cows8sntnhyxd71m"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:06:54.725744"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.725990"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.726164"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: gdmptsfc8t28cows8sntnhyxd71m (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.0ms | ActiveRecord: 0.2ms | Allocations: 3178)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e75a69cf-c787-4447-bd67-de5f56160c92) to Test(default) with arguments: #<GlobalID:0x00000001326f1430 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:06:54.732013"], ["updated_at", "2024-07-02 10:06:54.732013"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "e43bg5k0vk4ib36xsuy58y0go2hj"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:06:54.732793"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.733026"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.733216"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: e43bg5k0vk4ib36xsuy58y0go2hj (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7161)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 1cad4a6b-1371-4f67-aed9-7661fa9acf29) to Test(default) with arguments: #<GlobalID:0x0000000132970b48 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:06:54.738275"], ["updated_at", "2024-07-02 10:06:54.738275"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "g6lfp53erxwoop1fxrmuh4m8z58e"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:06:54.738903"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.739124"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.739307"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: g6lfp53erxwoop1fxrmuh4m8z58e (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 5e05704e-b39c-4555-86bc-e95f270ef986) to Test(default) with arguments: #<GlobalID:0x00000001326314c8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1474)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 689)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2166)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 2660)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 790)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:06:54.752493"], ["updated_at", "2024-07-02 10:06:54.752493"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.1ms | Allocations: 3723)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4024)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 5029)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 5907)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:06:54.787866"], ["updated_at", "2024-07-02 10:06:54.787866"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:06:54.797147"], ["updated_at", "2024-07-02 10:06:54.797147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:06:54.807347"], ["updated_at", "2024-07-02 10:06:54.807347"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.7ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:06:54.813175"], ["updated_at", "2024-07-02 10:06:54.813175"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "x2d2qbo7lw8a54h8ygguypba8h0h"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:06:54.814174"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:06:54.814464"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:06:54.814679"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: x2d2qbo7lw8a54h8ygguypba8h0h (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: efec67c5-b4c6-4d47-9010-5f84bb62ea1b) to Test(default) with arguments: #<GlobalID:0x0000000132b2e3e0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:07:36.145670"], ["updated_at", "2024-07-02 10:07:36.145670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "data_fingerprint" varchar, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000138f8bb58 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30218-9wnni7.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:07:36.239913"], ["updated_at", "2024-07-02 10:07:36.239913"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "b8ijh6iz0ondj7pt0ykw5ad2cqax"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:07:36.242127"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.242473"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.242706"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: b8ijh6iz0ondj7pt0ykw5ad2cqax (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 37ms (Views: 1.6ms | ActiveRecord: 0.7ms | Allocations: 29077)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: ae136898-3b42-46e8-b533-525e3a9edc04) to Test(default) with arguments: #<GlobalID:0x00000001298c4dd8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000129867ae8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30218-1v5vzy.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:07:36.252506"], ["updated_at", "2024-07-02 10:07:36.252506"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ns8tak91291mp0tx7kz0g0n98eoa"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:07:36.253320"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.253588"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.253778"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: ns8tak91291mp0tx7kz0g0n98eoa (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 7663)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: e5a65177-0383-4ace-8952-bebb520e758f) to Test(default) with arguments: #<GlobalID:0x000000013fdfd078 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:07:36.268191"], ["updated_at", "2024-07-02 10:07:36.268191"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zwcb2bmj173by2zsm6ppg3bg4x2l"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:07:36.269273"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.270116"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.270319"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.6ms) [0m[32mUploaded file to key: zwcb2bmj173by2zsm6ppg3bg4x2l (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 7165)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 59453909-ec17-4bd1-be14-a8a88200cf95) to Test(default) with arguments: #<GlobalID:0x0000000128146e90 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:07:36.277075"], ["updated_at", "2024-07-02 10:07:36.277075"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "2owmd6mq104ngnutsva1hxb9qrrn"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:07:36.277919"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.278595"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.279065"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: 2owmd6mq104ngnutsva1hxb9qrrn (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4ea864e7-6ad1-4558-9af5-3cd3119adad6) to Test(default) with arguments: #<GlobalID:0x000000012838e018 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1562)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.4ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 3.6ms | Allocations: 1624)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.8ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 23.6ms | Allocations: 14581)
Completed 200 OK in 27ms (Views: 25.8ms | ActiveRecord: 0.5ms | Allocations: 15765)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 947)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:07:36.326703"], ["updated_at", "2024-07-02 10:07:36.326703"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "zi21ctktxv2ii90j13lnbv5qa597"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:07:36.328201"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.328944"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.329156"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: zi21ctktxv2ii90j13lnbv5qa597 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 25aaf043-53a8-4a39-9819-2a191b933e84) to Test(default) with arguments: #<GlobalID:0x0000000129dd3428 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/zi21ctktxv2ii90j13lnbv5qa597/42493493ab4fc31826936d755312bbb653c4031c1c1901862fb03da7013a2361 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: zi21ctktxv2ii90j13lnbv5qa597[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 4f0647db-bd47-42a1-804d-125617426bee) to Test(default) with arguments: #<GlobalID:0x0000000129ea9820 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000129efaea0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30218-15hz52k.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:07:36.346088"], ["updated_at", "2024-07-02 10:07:36.346088"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "cdof3celmmo1owuitvrywmh8lzr7"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:07:36.346970"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.347346"]]
  [1m[36mCkeditor::Picture Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.347524"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.5ms) [0m[32mUploaded file to key: cdof3celmmo1owuitvrywmh8lzr7 (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e3ef3158-1892-448f-a2e1-d7ac247a635f) to Test(default) with arguments: #<GlobalID:0x0000000129f791d8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/cdof3celmmo1owuitvrywmh8lzr7/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: cdof3celmmo1owuitvrywmh8lzr7[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 3449)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 14488f5c-ac61-4c49-92a4-d2193a0bc793) to Test(default) with arguments: #<GlobalID:0x000000013ffe3f18 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000129f434e8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30218-6yox2p.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:07:36.359771"], ["updated_at", "2024-07-02 10:07:36.359771"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "apx1ixovt8bv48y928l2hi92eyan"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:07:36.360446"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.360712"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.360889"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: apx1ixovt8bv48y928l2hi92eyan (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 447b1460-f407-4e3e-b7f7-cbbfff10692d) to Test(default) with arguments: #<GlobalID:0x0000000129f221f8 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/apx1ixovt8bv48y928l2hi92eyan/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.0ms) [0m[34mDownloaded file from key: apx1ixovt8bv48y928l2hi92eyan[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 3420)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: b7719492-5592-49d4-9867-80045b72ed26) to Test(default) with arguments: #<GlobalID:0x000000012b03d050 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:07:36.366390"], ["updated_at", "2024-07-02 10:07:36.366390"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xfjqyl4lecwjfcyhs7s39v7vjamd"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:07:36.367190"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.367453"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.367688"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: xfjqyl4lecwjfcyhs7s39v7vjamd (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 28d5c97d-e2c5-4479-b785-02d74d2bdfd7) to Test(default) with arguments: #<GlobalID:0x000000012a8c7a00 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
[36m  Disk Storage (0.0ms) [0m[34mChecked if file exists at key: variants/xfjqyl4lecwjfcyhs7s39v7vjamd/3a3648a7d6c6377a55844410cd008467c57ecf77157f56429f450365e93eed59 (no)[0m
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: xfjqyl4lecwjfcyhs7s39v7vjamd[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms | Allocations: 3589)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 7c135921-ce26-4e0e-9662-b8528a8ab921) to Test(default) with arguments: #<GlobalID:0x0000000129eb1b60 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.png"], ["data_content_type", "image/png"], ["data_file_size", 6646], ["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:07:36.372329"], ["updated_at", "2024-07-02 10:07:36.372329"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "j1vap47nm3j9nbf1tcabz6k836ui"], ["filename", "rails.png"], ["content_type", "image/png"], ["metadata", "{\"identified\":true}"], ["byte_size", 6646], ["checksum", "nAoHm913AdfnKb2VaCPRUw=="], ["created_at", "2024-07-02 10:07:36.372988"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.373214"]]
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.373400"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.3ms) [0m[32mUploaded file to key: j1vap47nm3j9nbf1tcabz6k836ui (checksum: nAoHm913AdfnKb2VaCPRUw==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 84bce0c8-ee86-4104-8ad6-349bf6187666) to Test(default) with arguments: #<GlobalID:0x000000014a28a4b0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Load (0.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: 02320677-b2ec-459f-83ca-6a534b83b58b) to Test(default) with arguments: #<GlobalID:0x000000012b07e5f0 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 1474)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.7ms | Allocations: 661)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2139)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2749)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 751)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:07:36.384818"], ["updated_at", "2024-07-02 10:07:36.384818"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.9ms | Allocations: 4908)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 5209)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 6391)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 7269)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:07:36.414472"], ["updated_at", "2024-07-02 10:07:36.414472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:07:36.423787"], ["updated_at", "2024-07-02 10:07:36.423787"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:07:36.433046"], ["updated_at", "2024-07-02 10:07:36.433046"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.0ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_content_type", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_content_type", "application/gzip"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:07:36.469457"], ["updated_at", "2024-07-02 10:07:36.469457"]]
  [1m[36mActiveStorage::Attachment Load (0.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "Ckeditor::Asset"], ["name", "storage_data"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at", "service_name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["key", "xu8sc9pvidsqhxjv0ytsrm0kaz8x"], ["filename", "rails.tar.gz"], ["content_type", "application/gzip"], ["metadata", "{\"identified\":true}"], ["byte_size", 6823], ["checksum", "1J1uJEeGMVBFXA8QLEifMw=="], ["created_at", "2024-07-02 10:07:36.470560"], ["service_name", "local"]]
  [1m[36mActiveStorage::Attachment Create (0.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "storage_data"], ["record_type", "Ckeditor::Asset"], ["record_id", 1], ["blob_id", 1], ["created_at", "2024-07-02 10:07:36.470886"]]
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["updated_at", "2024-07-02 10:07:36.471104"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[36m  Disk Storage (0.4ms) [0m[32mUploaded file to key: xu8sc9pvidsqhxjv0ytsrm0kaz8x (checksum: 1J1uJEeGMVBFXA8QLEifMw==)[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Blob Update (0.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mActiveStorage::Attachment Destroy (0.0ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = ?[0m  [["id", 1]]
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[ActiveJob] Enqueued ActiveStorage::PurgeJob (Job ID: beb1744e-18b4-4c66-9747-06a419034b1d) to Test(default) with arguments: #<GlobalID:0x000000012b165018 @uri=#<URI::GID gid://dummy/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:14:10.330868"], ["updated_at", "2024-07-02 10:14:10.330868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_uid" varchar NOT NULL, "data_name" varchar NOT NULL, "data_mime_type" varchar, "data_size" integer, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_uid", "data_name", "data_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_uid", "2024/07/02/k75gt9xog_rails.tar.gz"], ["data_name", "rails.tar.gz"], ["data_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:14:10.396331"], ["updated_at", "2024-07-02 10:14:10.396331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010486b7f8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30387-1cchyuv.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms | Allocations: 902)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000104883e70 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30387-7pgutp.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 329)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 371)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 10.7ms | Allocations: 8098)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 22.1ms | Allocations: 21061)
Completed 200 OK in 26ms (Views: 24.9ms | ActiveRecord: 0.1ms | Allocations: 23055)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1176)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010c746898 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30387-8mlnuq.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_uid", "data_name", "data_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_uid", "2024/07/02/53hw3cw4vl_rails.tar.gz"], ["data_name", "rails.tar.gz"], ["data_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:14:10.482646"], ["updated_at", "2024-07-02 10:14:10.482646"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1282)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001198391a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30387-1uqre3t.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_uid", "data_name", "data_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_uid", "2024/07/02/60oryyuqba_rails.tar.gz"], ["data_name", "rails.tar.gz"], ["data_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:14:10.488362"], ["updated_at", "2024-07-02 10:14:10.488362"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 893)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_uid", "data_name", "data_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_uid", "2024/07/02/5xcva228sg_rails.tar.gz"], ["data_name", "rails.tar.gz"], ["data_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:14:10.491678"], ["updated_at", "2024-07-02 10:14:10.491678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 921)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_uid", "data_name", "data_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["data_uid", "2024/07/02/5elr450yrn_rails.tar.gz"], ["data_name", "rails.tar.gz"], ["data_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:14:10.494170"], ["updated_at", "2024-07-02 10:14:10.494170"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 857)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 688)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2165)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2771)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 1018)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:14:10.504321"], ["updated_at", "2024-07-02 10:14:10.504321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.3ms | Allocations: 3720)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4021)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | Allocations: 5206)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 6084)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:14:10.538427"], ["updated_at", "2024-07-02 10:14:10.538427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:14:10.548227"], ["updated_at", "2024-07-02 10:14:10.548227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:14:10.558331"], ["updated_at", "2024-07-02 10:14:10.558331"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.7ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:20:40.032544"], ["updated_at", "2024-07-02 10:20:40.032544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_uid" varchar NOT NULL, "data_name" varchar NOT NULL, "data_mime_type" varchar, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001385f10e8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30772-9b6pyl.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 10427)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2817)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 11.0ms | Allocations: 8403)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 21.4ms | Allocations: 21328)
Completed 200 OK in 25ms (Views: 24.2ms | ActiveRecord: 0.1ms | Allocations: 23322)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2819)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001383e45c0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30772-j58anc.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 6169)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000013838f408 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30772-10w1885.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2777)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2817)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 661)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2138)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2751)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2819)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:20:40.180999"], ["updated_at", "2024-07-02 10:20:40.180999"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.8ms | Allocations: 4942)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5243)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 6425)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms | Allocations: 7303)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:20:40.217806"], ["updated_at", "2024-07-02 10:20:40.217806"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1176)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2031)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 2406)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:20:40.227993"], ["updated_at", "2024-07-02 10:20:40.227993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2332)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:20:40.238225"], ["updated_at", "2024-07-02 10:20:40.238225"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:23:40.416499"], ["updated_at", "2024-07-02 10:23:40.416499"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_uid" varchar NOT NULL, "data_name" varchar NOT NULL, "data_mime_type" varchar, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:23:40.485471"], ["updated_at", "2024-07-02 10:23:40.485471"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 21.5ms | Allocations: 22780)
  Rendered posts/new.html.erb within layouts/application (Duration: 22.2ms | Allocations: 23244)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 24450)
Completed 200 OK in 26ms (Views: 24.5ms | ActiveRecord: 0.0ms | Allocations: 26291)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:23:40.544467"], ["updated_at", "2024-07-02 10:23:40.544467"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.1ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:23:40.554224"], ["updated_at", "2024-07-02 10:23:40.554224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:23:40.564642"], ["updated_at", "2024-07-02 10:23:40.564642"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000160e9d250>"], ["created_at", "2024-07-02 10:23:40.574690"], ["updated_at", "2024-07-02 10:23:40.574690"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001219c48d0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30952-kqnx6r.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001219c48d0>"], ["created_at", "2024-07-02 10:23:40.582736"], ["updated_at", "2024-07-02 10:23:40.582736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 1060)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001209bbfb0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30952-1nt3nin.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001209bbfb0>"], ["created_at", "2024-07-02 10:23:40.585676"], ["updated_at", "2024-07-02 10:23:40.585676"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.1ms | Allocations: 502)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x00000001209aa0f8>"], ["created_at", "2024-07-02 10:23:40.587835"], ["updated_at", "2024-07-02 10:23:40.587835"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 545)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000120998f88>"], ["created_at", "2024-07-02 10:23:40.589660"], ["updated_at", "2024-07-02 10:23:40.589660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.1ms | Allocations: 1434)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 3.6ms | Allocations: 3584)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.1ms | Allocations: 4623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:23:40.598512"], ["updated_at", "2024-07-02 10:23:40.598512"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 531)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000117e59d50 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30952-11jsjqh.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000117e59d50>"], ["created_at", "2024-07-02 10:23:40.634435"], ["updated_at", "2024-07-02 10:23:40.634435"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 3871)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000117cf1120 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-30952-1sii2x0.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000117cf1120>"], ["created_at", "2024-07-02 10:23:40.636977"], ["updated_at", "2024-07-02 10:23:40.636977"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.1ms | Allocations: 502)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x0000000117c79c38>"], ["created_at", "2024-07-02 10:23:40.639106"], ["updated_at", "2024-07-02 10:23:40.639106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 544)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000117c2b1f0>"], ["created_at", "2024-07-02 10:23:40.640626"], ["updated_at", "2024-07-02 10:23:40.640626"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 692)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2169)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 2778)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:23:40.647082"], ["updated_at", "2024-07-02 10:23:40.647082"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 531)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:30:34.540543"], ["updated_at", "2024-07-02 10:30:34.540543"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000111d15738>"], ["created_at", "2024-07-02 10:30:34.637463"], ["updated_at", "2024-07-02 10:30:34.637463"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000111d85010>"], ["created_at", "2024-07-02 10:30:34.643431"], ["updated_at", "2024-07-02 10:30:34.643431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000111989510 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31131-1ygdftm.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000111989510>"], ["created_at", "2024-07-02 10:30:34.664374"], ["updated_at", "2024-07-02 10:30:34.664374"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 4610)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011193d4a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31131-2x8cs6.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000011193d4a8>"], ["created_at", "2024-07-02 10:30:34.669663"], ["updated_at", "2024-07-02 10:30:34.669663"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 4069)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x0000000125df6918>"], ["created_at", "2024-07-02 10:30:34.674310"], ["updated_at", "2024-07-02 10:30:34.674310"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 4097)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000125e2e020>"], ["created_at", "2024-07-02 10:30:34.678427"], ["updated_at", "2024-07-02 10:30:34.678427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 672)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 11.1ms | Allocations: 8088)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.3ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 22.0ms | Allocations: 21046)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.1ms | Allocations: 23014)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:30:34.708673"], ["updated_at", "2024-07-02 10:30:34.708673"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 4080)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000105881ae8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31131-1v1jf9b.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000105881ae8>"], ["created_at", "2024-07-02 10:30:34.714746"], ["updated_at", "2024-07-02 10:30:34.714746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 4009)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000115d1d740 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31131-17bansz.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000115d1d740>"], ["created_at", "2024-07-02 10:30:34.722075"], ["updated_at", "2024-07-02 10:30:34.722075"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 3953)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x0000000115d7fd78>"], ["created_at", "2024-07-02 10:30:34.728994"], ["updated_at", "2024-07-02 10:30:34.728994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 3990)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x00000001058d1c50>"], ["created_at", "2024-07-02 10:30:34.735013"], ["updated_at", "2024-07-02 10:30:34.735013"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 585)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2763)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:30:34.740523"], ["updated_at", "2024-07-02 10:30:34.740523"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 3974)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:30:34.749947"], ["updated_at", "2024-07-02 10:30:34.749947"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.0ms | Allocations: 3754)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4055)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 5240)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms | Allocations: 6118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:30:34.790618"], ["updated_at", "2024-07-02 10:30:34.790618"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:30:34.800750"], ["updated_at", "2024-07-02 10:30:34.800750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:30:34.810480"], ["updated_at", "2024-07-02 10:30:34.810480"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:31:13.883327"], ["updated_at", "2024-07-02 10:31:13.883327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001255247e0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31206-4clww2.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001255247e0>"], ["created_at", "2024-07-02 10:31:13.960790"], ["updated_at", "2024-07-02 10:31:13.960790"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9590)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x000000014290cbb0>"], ["created_at", "2024-07-02 10:31:13.970510"], ["updated_at", "2024-07-02 10:31:13.970510"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000142944100>"], ["created_at", "2024-07-02 10:31:13.978718"], ["updated_at", "2024-07-02 10:31:13.978718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 675)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 10.9ms | Allocations: 8120)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 21.0ms | Allocations: 21082)
Completed 200 OK in 25ms (Views: 23.8ms | ActiveRecord: 0.1ms | Allocations: 23046)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:31:14.007811"], ["updated_at", "2024-07-02 10:31:14.007811"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:31:14.020147"], ["updated_at", "2024-07-02 10:31:14.020147"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.6ms | Allocations: 4932)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 5233)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 6415)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms | Allocations: 7293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:31:14.054921"], ["updated_at", "2024-07-02 10:31:14.054921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:31:14.064854"], ["updated_at", "2024-07-02 10:31:14.064854"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:31:14.074828"], ["updated_at", "2024-07-02 10:31:14.074828"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.3ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 3398)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000122971580>"], ["created_at", "2024-07-02 10:31:14.079751"], ["updated_at", "2024-07-02 10:31:14.079751"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000123e0b9c8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31206-p3afh8.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000123e0b9c8>"], ["created_at", "2024-07-02 10:31:14.095222"], ["updated_at", "2024-07-02 10:31:14.095222"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms | Allocations: 6300)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000123b6b3f8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31206-11ggftx.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000123b6b3f8>"], ["created_at", "2024-07-02 10:31:14.101354"], ["updated_at", "2024-07-02 10:31:14.101354"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 4059)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x0000000123a23810>"], ["created_at", "2024-07-02 10:31:14.107390"], ["updated_at", "2024-07-02 10:31:14.107390"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 4096)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x00000001238f9570>"], ["created_at", "2024-07-02 10:31:14.112623"], ["updated_at", "2024-07-02 10:31:14.112623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 583)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.6ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2735)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:31:14.119634"], ["updated_at", "2024-07-02 10:31:14.119634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 4080)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000012180dd98>"], ["created_at", "2024-07-02 10:31:14.159028"], ["updated_at", "2024-07-02 10:31:14.159028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:33:43.030874"], ["updated_at", "2024-07-02 10:33:43.030874"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001445861b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31306-cmy0iw.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001445861b0>"], ["created_at", "2024-07-02 10:33:43.108264"], ["updated_at", "2024-07-02 10:33:43.108264"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9606)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x00000001400a9470>"], ["created_at", "2024-07-02 10:33:43.118166"], ["updated_at", "2024-07-02 10:33:43.118166"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000144392e80>"], ["created_at", "2024-07-02 10:33:43.126573"], ["updated_at", "2024-07-02 10:33:43.126573"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 675)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 11.3ms | Allocations: 8389)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 20.6ms | Allocations: 21351)
Completed 200 OK in 24ms (Views: 23.3ms | ActiveRecord: 0.1ms | Allocations: 23316)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:33:43.154703"], ["updated_at", "2024-07-02 10:33:43.154703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000144151dd8>"], ["created_at", "2024-07-02 10:33:43.193318"], ["updated_at", "2024-07-02 10:33:43.193318"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:33:43.206141"], ["updated_at", "2024-07-02 10:33:43.206141"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.7ms | Allocations: 3754)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 4055)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 5240)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms | Allocations: 6118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:33:43.247503"], ["updated_at", "2024-07-02 10:33:43.247503"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:33:43.259367"], ["updated_at", "2024-07-02 10:33:43.259367"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:33:43.268943"], ["updated_at", "2024-07-02 10:33:43.268943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001068bd970 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31306-1isd8e6.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001068bd970>"], ["created_at", "2024-07-02 10:33:43.274780"], ["updated_at", "2024-07-02 10:33:43.274780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4307)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001562360c0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31306-193ad3v.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001562360c0>"], ["created_at", "2024-07-02 10:33:43.284258"], ["updated_at", "2024-07-02 10:33:43.284258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4280)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x0000000143f04378>"], ["created_at", "2024-07-02 10:33:43.293447"], ["updated_at", "2024-07-02 10:33:43.293447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4317)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000143e0f490>"], ["created_at", "2024-07-02 10:33:43.302548"], ["updated_at", "2024-07-02 10:33:43.302548"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 583)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.6ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2735)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:33:43.308969"], ["updated_at", "2024-07-02 10:33:43.308969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000143bdea68>"], ["created_at", "2024-07-02 10:33:43.317873"], ["updated_at", "2024-07-02 10:33:43.317873"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:36:37.557072"], ["updated_at", "2024-07-02 10:36:37.557072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:36:37.656033"], ["updated_at", "2024-07-02 10:36:37.656033"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 12.4ms | Allocations: 10556)
  Rendered posts/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 11020)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 23563)
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.0ms | Allocations: 25405)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:36:37.715291"], ["updated_at", "2024-07-02 10:36:37.715291"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 585)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1443)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:36:37.724918"], ["updated_at", "2024-07-02 10:36:37.724918"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:36:37.734802"], ["updated_at", "2024-07-02 10:36:37.734802"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010ddcff38 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31479-1h4ocl4.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010ddcff38>"], ["created_at", "2024-07-02 10:36:37.749114"], ["updated_at", "2024-07-02 10:36:37.749114"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9468)
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010f37f108 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31479-xa27b7.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010f37f108>"], ["created_at", "2024-07-02 10:36:37.759653"], ["updated_at", "2024-07-02 10:36:37.759653"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4290)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x000000010dd12b68>"], ["created_at", "2024-07-02 10:36:37.768946"], ["updated_at", "2024-07-02 10:36:37.768946"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4318)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010dcd9020>"], ["created_at", "2024-07-02 10:36:37.777914"], ["updated_at", "2024-07-02 10:36:37.777914"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 631)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.3ms | Allocations: 1422)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 3.9ms | Allocations: 3572)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.1ms | Allocations: 4603)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:36:37.787735"], ["updated_at", "2024-07-02 10:36:37.787735"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010dbf17e8>"], ["created_at", "2024-07-02 10:36:37.798364"], ["updated_at", "2024-07-02 10:36:37.798364"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010db3db58>"], ["created_at", "2024-07-02 10:36:37.806715"], ["updated_at", "2024-07-02 10:36:37.806715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010d9655b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31479-1k73cw8.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010d9655b0>"], ["created_at", "2024-07-02 10:36:37.817614"], ["updated_at", "2024-07-02 10:36:37.817614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4310)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010d87e778 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31479-1gwue0e.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010d87e778>"], ["created_at", "2024-07-02 10:36:37.827246"], ["updated_at", "2024-07-02 10:36:37.827246"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4281)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x000000010cf32a70>"], ["created_at", "2024-07-02 10:36:37.836390"], ["updated_at", "2024-07-02 10:36:37.836390"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4318)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010ca3b0f8>"], ["created_at", "2024-07-02 10:36:37.845627"], ["updated_at", "2024-07-02 10:36:37.845627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 585)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.4ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 2763)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:36:37.851683"], ["updated_at", "2024-07-02 10:36:37.851683"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:39:31.994739"], ["updated_at", "2024-07-02 10:39:31.994739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010da877b8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31643-2gxfi5.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010da877b8>"], ["created_at", "2024-07-02 10:39:32.076770"], ["updated_at", "2024-07-02 10:39:32.076770"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 9830)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010ed9ad78 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31643-lwl6uu.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010ed9ad78>"], ["created_at", "2024-07-02 10:39:32.087348"], ["updated_at", "2024-07-02 10:39:32.087348"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4290)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x000000010d9e3ed8>"], ["created_at", "2024-07-02 10:39:32.096613"], ["updated_at", "2024-07-02 10:39:32.096613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4318)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010d995e68>"], ["created_at", "2024-07-02 10:39:32.105419"], ["updated_at", "2024-07-02 10:39:32.105419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 674)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 11.4ms | Allocations: 8089)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 23.4ms | Allocations: 21009)
Completed 200 OK in 27ms (Views: 26.4ms | ActiveRecord: 0.1ms | Allocations: 22977)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:39:32.138484"], ["updated_at", "2024-07-02 10:39:32.138484"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:32.151967"], ["updated_at", "2024-07-02 10:39:32.151967"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.0ms | Allocations: 4932)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 5233)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 6415)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms | Allocations: 7293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:32.190627"], ["updated_at", "2024-07-02 10:39:32.190627"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:32.200821"], ["updated_at", "2024-07-02 10:39:32.200821"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:32.211660"], ["updated_at", "2024-07-02 10:39:32.211660"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010dbde6e8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31643-xxb9y7.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010dbde6e8>"], ["created_at", "2024-07-02 10:39:32.222179"], ["updated_at", "2024-07-02 10:39:32.222179"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 6524)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010dc4ca80 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31643-19pi9xh.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010dc4ca80>"], ["created_at", "2024-07-02 10:39:32.232273"], ["updated_at", "2024-07-02 10:39:32.232273"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4281)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x000000010b8fe2e0>"], ["created_at", "2024-07-02 10:39:32.242357"], ["updated_at", "2024-07-02 10:39:32.242357"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4318)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x00000001090fddb8>"], ["created_at", "2024-07-02 10:39:32.251513"], ["updated_at", "2024-07-02 10:39:32.251513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.6ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2763)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:39:32.258260"], ["updated_at", "2024-07-02 10:39:32.258260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000011b77eb08>"], ["created_at", "2024-07-02 10:39:32.268824"], ["updated_at", "2024-07-02 10:39:32.268824"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:39:46.496925"], ["updated_at", "2024-07-02 10:39:46.496925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010e3397f8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31686-exy2ym.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010e3397f8>"], ["created_at", "2024-07-02 10:39:46.601020"], ["updated_at", "2024-07-02 10:39:46.601020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9814)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010be173a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31686-u3qelt.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010be173a8>"], ["created_at", "2024-07-02 10:39:46.611545"], ["updated_at", "2024-07-02 10:39:46.611545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4291)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x000000010e3fb498>"], ["created_at", "2024-07-02 10:39:46.620929"], ["updated_at", "2024-07-02 10:39:46.620929"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010bd979c8>"], ["created_at", "2024-07-02 10:39:46.629345"], ["updated_at", "2024-07-02 10:39:46.629345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 675)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 10.9ms | Allocations: 8119)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 20.7ms | Allocations: 21080)
Completed 200 OK in 24ms (Views: 23.7ms | ActiveRecord: 0.1ms | Allocations: 23044)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:39:46.657799"], ["updated_at", "2024-07-02 10:39:46.657799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010e5525a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31686-vz8xjz.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010e5525a8>"], ["created_at", "2024-07-02 10:39:46.670262"], ["updated_at", "2024-07-02 10:39:46.670262"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 6521)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010bbadae0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31686-hx0dkj.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000010bbadae0>"], ["created_at", "2024-07-02 10:39:46.679815"], ["updated_at", "2024-07-02 10:39:46.679815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4280)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x000000013877cd18>"], ["created_at", "2024-07-02 10:39:46.689270"], ["updated_at", "2024-07-02 10:39:46.689270"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4317)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010b8d4ee0>"], ["created_at", "2024-07-02 10:39:46.697922"], ["updated_at", "2024-07-02 10:39:46.697922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.5ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 2735)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:39:46.704232"], ["updated_at", "2024-07-02 10:39:46.704232"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:46.715284"], ["updated_at", "2024-07-02 10:39:46.715284"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.4ms | Allocations: 4932)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 5233)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 6415)
Completed 200 OK in 6ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 7293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:46.746745"], ["updated_at", "2024-07-02 10:39:46.746745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:46.756539"], ["updated_at", "2024-07-02 10:39:46.756539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:39:46.766269"], ["updated_at", "2024-07-02 10:39:46.766269"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.3ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 3398)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:44:55.079427"], ["updated_at", "2024-07-02 10:44:55.079427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011360ede8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31916-1nxyl8l.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000011360ede8>"], ["created_at", "2024-07-02 10:44:55.158094"], ["updated_at", "2024-07-02 10:44:55.158094"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9592)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x000000012507f4d8>"], ["created_at", "2024-07-02 10:44:55.167667"], ["updated_at", "2024-07-02 10:44:55.167667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000113589288>"], ["created_at", "2024-07-02 10:44:55.175884"], ["updated_at", "2024-07-02 10:44:55.175884"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 675)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 11.5ms | Allocations: 8389)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.3ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 21.6ms | Allocations: 21351)
Completed 200 OK in 25ms (Views: 24.6ms | ActiveRecord: 0.1ms | Allocations: 23316)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:44:55.205142"], ["updated_at", "2024-07-02 10:44:55.205142"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011488e770 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31916-j8g2xh.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x000000011488e770>"], ["created_at", "2024-07-02 10:44:55.244868"], ["updated_at", "2024-07-02 10:44:55.244868"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 6521)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001132f7038 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31916-ctns3u.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001132f7038>"], ["created_at", "2024-07-02 10:44:55.254999"], ["updated_at", "2024-07-02 10:44:55.254999"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4280)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x000000011490ebf0>"], ["created_at", "2024-07-02 10:44:55.264302"], ["updated_at", "2024-07-02 10:44:55.264302"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4317)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000011324dcb8>"], ["created_at", "2024-07-02 10:44:55.272798"], ["updated_at", "2024-07-02 10:44:55.272798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.4ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2735)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:44:55.278801"], ["updated_at", "2024-07-02 10:44:55.278801"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000113148f70>"], ["created_at", "2024-07-02 10:44:55.288131"], ["updated_at", "2024-07-02 10:44:55.288131"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:44:55.300761"], ["updated_at", "2024-07-02 10:44:55.300761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.3ms | Allocations: 4933)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 5234)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | Allocations: 6416)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 7294)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:44:55.333893"], ["updated_at", "2024-07-02 10:44:55.333893"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:44:55.344497"], ["updated_at", "2024-07-02 10:44:55.344497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:44:55.355079"], ["updated_at", "2024-07-02 10:44:55.355079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.3ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | Allocations: 3398)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:45:27.173903"], ["updated_at", "2024-07-02 10:45:27.173903"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000103c71740 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31975-kmxfbu.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000103c71740>"], ["created_at", "2024-07-02 10:45:27.251339"], ["updated_at", "2024-07-02 10:45:27.251339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.2ms | Allocations: 9589)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x0000000103be6a00>"], ["created_at", "2024-07-02 10:45:27.261144"], ["updated_at", "2024-07-02 10:45:27.261144"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4318)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000103bac490>"], ["created_at", "2024-07-02 10:45:27.269338"], ["updated_at", "2024-07-02 10:45:27.269338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 674)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 11.4ms | Allocations: 8358)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 20.6ms | Allocations: 21320)
Completed 200 OK in 24ms (Views: 23.4ms | ActiveRecord: 0.1ms | Allocations: 23287)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:45:27.297299"], ["updated_at", "2024-07-02 10:45:27.297299"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000134123b78>"], ["created_at", "2024-07-02 10:45:27.307875"], ["updated_at", "2024-07-02 10:45:27.307875"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001039e6138 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31975-1hs8u87.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001039e6138>"], ["created_at", "2024-07-02 10:45:27.318703"], ["updated_at", "2024-07-02 10:45:27.318703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4310)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000103972c60 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-31975-agoov5.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000103972c60>"], ["created_at", "2024-07-02 10:45:27.328106"], ["updated_at", "2024-07-02 10:45:27.328106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4281)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x00000001038ddac0>"], ["created_at", "2024-07-02 10:45:27.336964"], ["updated_at", "2024-07-02 10:45:27.336964"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4318)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x000000010386eb70>"], ["created_at", "2024-07-02 10:45:27.345812"], ["updated_at", "2024-07-02 10:45:27.345812"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 585)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2763)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:45:27.351602"], ["updated_at", "2024-07-02 10:45:27.351602"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:27.399198"], ["updated_at", "2024-07-02 10:45:27.399198"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.9ms | Allocations: 3755)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 4056)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 5241)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms | Allocations: 6119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:27.430591"], ["updated_at", "2024-07-02 10:45:27.430591"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:27.439909"], ["updated_at", "2024-07-02 10:45:27.439909"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:27.450094"], ["updated_at", "2024-07-02 10:45:27.450094"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.9ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 10:45:46.033670"], ["updated_at", "2024-07-02 10:45:46.033670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:46.099579"], ["updated_at", "2024-07-02 10:45:46.099579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 22.3ms | Allocations: 22901)
  Rendered posts/new.html.erb within layouts/application (Duration: 23.0ms | Allocations: 23365)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 24571)
Completed 200 OK in 27ms (Views: 25.3ms | ActiveRecord: 0.0ms | Allocations: 26413)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:46.157130"], ["updated_at", "2024-07-02 10:45:46.157130"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:46.167176"], ["updated_at", "2024-07-02 10:45:46.167176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 10:45:46.177781"], ["updated_at", "2024-07-02 10:45:46.177781"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x0000000112c44600>"], ["created_at", "2024-07-02 10:45:46.186146"], ["updated_at", "2024-07-02 10:45:46.186146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000112af3210 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32012-5y0a8f.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000112af3210>"], ["created_at", "2024-07-02 10:45:46.232708"], ["updated_at", "2024-07-02 10:45:46.232708"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms | Allocations: 7031)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000112a90980 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32012-12900ls.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000112a90980>"], ["created_at", "2024-07-02 10:45:46.242959"], ["updated_at", "2024-07-02 10:45:46.242959"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4291)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<File:0x0000000112a2b760>"], ["created_at", "2024-07-02 10:45:46.252032"], ["updated_at", "2024-07-02 10:45:46.252032"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 4319)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "#<Rack::Test::UploadedFile:0x00000001129a2fa0>"], ["created_at", "2024-07-02 10:45:46.260894"], ["updated_at", "2024-07-02 10:45:46.260894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 634)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.0ms | Allocations: 1453)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 3.5ms | Allocations: 3603)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms | Allocations: 4631)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 10:45:46.270230"], ["updated_at", "2024-07-02 10:45:46.270230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4302)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000112829de0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32012-thj15o.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x0000000112829de0>"], ["created_at", "2024-07-02 10:45:46.280204"], ["updated_at", "2024-07-02 10:45:46.280204"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4307)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001126d7118 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32012-51d3d1.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<ActionDispatch::Http::UploadedFile:0x00000001126d7118>"], ["created_at", "2024-07-02 10:45:46.289725"], ["updated_at", "2024-07-02 10:45:46.289725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms | Allocations: 4280)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<File:0x00000001125a6960>"], ["created_at", "2024-07-02 10:45:46.299168"], ["updated_at", "2024-07-02 10:45:46.299168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 4317)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "#<Rack::Test::UploadedFile:0x00000001124bc248>"], ["created_at", "2024-07-02 10:45:46.308165"], ["updated_at", "2024-07-02 10:45:46.308165"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 584)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.7ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.3ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2735)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 10:45:46.313896"], ["updated_at", "2024-07-02 10:45:46.313896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4301)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:03:06.444872"], ["updated_at", "2024-07-02 11:03:06.444872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000116456ea8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32499-p0lnyd.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 3012)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000014628e9b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32499-10on8uf.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 255)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 298)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 11.1ms | Allocations: 8390)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 24.1ms | Allocations: 21369)
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.1ms | Allocations: 23360)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:03:06.589838"], ["updated_at", "2024-07-02 11:03:06.589838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1366)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000011628e030 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32499-14l01hz.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000116274ea0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32499-1wgjuio.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 255)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 297)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.4ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2738)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:03:06.605992"], ["updated_at", "2024-07-02 11:03:06.605992"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 1270)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:06.610639"], ["updated_at", "2024-07-02 11:03:06.610639"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.5ms | Allocations: 3764)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4065)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5250)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:06.651775"], ["updated_at", "2024-07-02 11:03:06.651775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:06.661901"], ["updated_at", "2024-07-02 11:03:06.661901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:06.671736"], ["updated_at", "2024-07-02 11:03:06.671736"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.7ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:03:43.723252"], ["updated_at", "2024-07-02 11:03:43.723252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010bd8e4b8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32592-1i9lez6.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 5514)
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000013e8c0138 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32592-1fg10t4.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 255)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 298)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 10.9ms | Allocations: 8390)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.6ms | Allocations: 250)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 21.3ms | Allocations: 21356)
Completed 200 OK in 25ms (Views: 24.1ms | ActiveRecord: 0.1ms | Allocations: 23349)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:03:43.860158"], ["updated_at", "2024-07-02 11:03:43.860158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 1367)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:43.869943"], ["updated_at", "2024-07-02 11:03:43.869943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 3.8ms | Allocations: 3764)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 4065)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 5250)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 6128)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:43.901644"], ["updated_at", "2024-07-02 11:03:43.901644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:43.910940"], ["updated_at", "2024-07-02 11:03:43.910940"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1749)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:03:43.920396"], ["updated_at", "2024-07-02 11:03:43.920396"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.3ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010baa76c8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32592-osxv0h.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 309)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010ba8c738 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32592-121jiu5.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 255)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms | Allocations: 297)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2126)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 2738)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:03:43.937956"], ["updated_at", "2024-07-02 11:03:43.937956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 737)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:05:12.702427"], ["updated_at", "2024-07-02 11:05:12.702427"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000120e2e6b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32675-1bff25j.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"8b8260f446c7d78aafc08412d0263ebd.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:12.787570"], ["updated_at", "2024-07-02 11:05:12.787570"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"cffefa2681e7415fd5ecbc418faa1d94.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:12.788744"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 21ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 8222)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000120e84c40 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32675-1rn2bbr.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"35289bad58234e72f00db0312d61f345.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:12.806731"], ["updated_at", "2024-07-02 11:05:12.806731"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"cf80ca7ecdc3c19ab2452c78078acd30.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:12.808148"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.3ms | Allocations: 8299)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"deeae34d68687e1a1fe49bc07f27d10a.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:12.828282"], ["updated_at", "2024-07-02 11:05:12.828282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3a6cd635f1a288197c1dd395842f6904.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:12.829216"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"f493ec564bf06b6dcf8571ea35b399be.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:12.837344"], ["updated_at", "2024-07-02 11:05:12.837344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"112b2f010bd07f13c8fa10564251b2cd.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:12.838232"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 832)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.7ms | Allocations: 1616)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 13.2ms | Allocations: 14574)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.1ms | Allocations: 15758)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:05:12.860030"], ["updated_at", "2024-07-02 11:05:12.860030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms | Allocations: 1303)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"458a619d4d6934ba9a839376301a394c.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:12.901538"], ["updated_at", "2024-07-02 11:05:12.901538"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"42a42d76b7b1f8bf14b72af7beffe8e5.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:12.902561"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"3bec4bc81e851f1dba24b3607e7e5a4e.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:12.910962"], ["updated_at", "2024-07-02 11:05:12.910962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"23985e0a135a437781d3156f427db7a2.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:12.911923"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:12.916971"], ["updated_at", "2024-07-02 11:05:12.916971"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.8ms | Allocations: 4932)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 5233)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | Allocations: 6415)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 7293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:12.947712"], ["updated_at", "2024-07-02 11:05:12.947712"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:12.957489"], ["updated_at", "2024-07-02 11:05:12.957489"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:12.975919"], ["updated_at", "2024-07-02 11:05:12.975919"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012326cab8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32675-s60m2v.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"09cc158c54f02c91c4fe128d3060d62d.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:12.990901"], ["updated_at", "2024-07-02 11:05:12.990901"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"acdd9543635c1fe6063e89b5baefdfbc.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:12.991900"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1754)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001232a5ea8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32675-1e7rjjv.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"ca6b32c0e1a7113d73f47553b58a0f2f.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:13.001180"], ["updated_at", "2024-07-02 11:05:13.001180"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ec3730ceef0f1a0f745dff9356da228c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:13.002083"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1705)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"d52ced32a5ff03d802bfd9ce8eef1ced.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:13.011580"], ["updated_at", "2024-07-02 11:05:13.011580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"7be0b511f527f44a93bb55fd690cc0a2.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:13.012545"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1743)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"cf12827139f9ff5e6298da9c9e528c2a.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:13.020247"], ["updated_at", "2024-07-02 11:05:13.020247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3e9ae58867b0ed9761cc16db359a82c0.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:13.021414"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 2623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:05:13.028788"], ["updated_at", "2024-07-02 11:05:13.028788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:05:37.483748"], ["updated_at", "2024-07-02 11:05:37.483748"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"186e60c238beff4524bfcf1b12fb3c0b.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:37.554956"], ["updated_at", "2024-07-02 11:05:37.554956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"24fd5a72d9d4b256ece32ed657004dad.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:37.556102"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:37.562746"], ["updated_at", "2024-07-02 11:05:37.562746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 23.2ms | Allocations: 23045)
  Rendered posts/new.html.erb within layouts/application (Duration: 23.9ms | Allocations: 23509)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 24715)
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.0ms | Allocations: 26554)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:37.619777"], ["updated_at", "2024-07-02 11:05:37.619777"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:37.629452"], ["updated_at", "2024-07-02 11:05:37.629452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:05:37.639291"], ["updated_at", "2024-07-02 11:05:37.639291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.2ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"e16a73dac080ae42f3e5d3699f2ab3bf.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:37.652765"], ["updated_at", "2024-07-02 11:05:37.652765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c106435decaa1e73aac933061fcd6fca.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:37.653953"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010bc578d8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32764-4912ji.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"fcb9720a0266339565ce13197dfea35f.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:37.670596"], ["updated_at", "2024-07-02 11:05:37.670596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"f5892350bf7b27cb6d841eff77b46916.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:37.671547"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 2352)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010bc778e0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32764-1a490vq.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"b099d44891d0d956981729227d795586.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:37.682499"], ["updated_at", "2024-07-02 11:05:37.682499"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"5b6c757a9a569b913ee24a1716c54690.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:37.683499"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1779)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"4a5d288c412f003e29593ad1e38811d9.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:37.693553"], ["updated_at", "2024-07-02 11:05:37.693553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"b2bbc0b9d7daec7e9fd91eb0cc43f897.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:37.694498"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"56eea9e7fb074b7e21c425b613df7cdb.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:05:37.702923"], ["updated_at", "2024-07-02 11:05:37.702923"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"9a76b37c794f99c15cac1562c7508ae4.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:05:37.703965"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 793)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.3ms | Allocations: 1453)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 3.7ms | Allocations: 3603)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.1ms | Allocations: 4519)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:05:37.714785"], ["updated_at", "2024-07-02 11:05:37.714785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010cb14c90 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32764-1mbcykx.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"c679e849f118f78bb671413fbf2e702c.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:37.755601"], ["updated_at", "2024-07-02 11:05:37.755601"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"5adefeabeb5597243903f021b2730d6d.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:37.756675"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1754)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010ca559a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32764-edh9w7.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"65deb7518aa1f281d89ba42baab36897.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:37.766398"], ["updated_at", "2024-07-02 11:05:37.766398"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ac780b1ea758259b394a6034617de2b2.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:37.767431"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1705)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"bfeb96bf69c99c27356bfdd6ecf16330.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:37.776757"], ["updated_at", "2024-07-02 11:05:37.776757"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"bd60552c55085d9ea0b089cb4db704c6.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:37.777708"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1743)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"c70ea0d07dc7535ea07ffbd94de84b76.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:05:37.785847"], ["updated_at", "2024-07-02 11:05:37.785847"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3c291229012b65ef329630fb706e667e.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:05:37.786823"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.5ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 2623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:05:37.793916"], ["updated_at", "2024-07-02 11:05:37.793916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:06:11.948969"], ["updated_at", "2024-07-02 11:06:11.948969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012b65a000 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32835-1vi2tw1.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"1f37db145a777c9886a32ea88850aa3c.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:12.031939"], ["updated_at", "2024-07-02 11:06:12.031939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3863d67dd664f119e8c8ff6b329194f8.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:12.033054"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 17ms (Views: 2.0ms | ActiveRecord: 0.3ms | Allocations: 7945)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000012b6cb2f0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32835-226276.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"698b2f3259cb5daaa28311bd1ebbf378.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:12.044809"], ["updated_at", "2024-07-02 11:06:12.044809"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3804edbbfd6110f65072090e8a2d9c54.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:12.045748"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 8253)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"66098d192fbf11f541ad18aea025e0ff.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:12.064721"], ["updated_at", "2024-07-02 11:06:12.064721"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"24da94aae51f593836ee0db4251b821b.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:12.065623"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1744)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"5bd493016d6e95c0a7acf76f62f1b1fc.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:12.073438"], ["updated_at", "2024-07-02 11:06:12.073438"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"fa8033487892182908f7426b06df5016.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:12.074329"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 831)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.4ms | Allocations: 1585)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 13.4ms | Allocations: 14540)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.1ms | Allocations: 15727)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:06:12.096213"], ["updated_at", "2024-07-02 11:06:12.096213"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012b7b7a88 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32835-id30ac.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"c2dd4fca70f38f6f75b3ae7856af7398.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:12.108718"], ["updated_at", "2024-07-02 11:06:12.108718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c3c973d9a2b136af97e55dc07089c9f7.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:12.109837"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 11ms (Views: 0.5ms | ActiveRecord: 0.2ms | Allocations: 3944)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000012944e448 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32835-1cdovcs.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"3d0322777f006a9c8011197af99e8b39.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:12.120062"], ["updated_at", "2024-07-02 11:06:12.120062"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"0936decdcd8e499dc17c5fa47df06a3e.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:12.121208"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"6d0872a675ae9205b755781c18a126a9.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:12.130816"], ["updated_at", "2024-07-02 11:06:12.130816"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ebe10926f5404f5b3de7bfbbdd9c0b04.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:12.131820"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1783)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"7679fa066e49fe0d6351df72eff84d5e.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:12.140470"], ["updated_at", "2024-07-02 11:06:12.140470"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"421dafdb3d9aac4ea4eb0698de69d1aa.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:12.141411"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 746)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2651)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:06:12.148664"], ["updated_at", "2024-07-02 11:06:12.148664"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"1aca6b8823ef15358c513566bc0775e1.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:12.190684"], ["updated_at", "2024-07-02 11:06:12.190684"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"6268e36634579ffbc360caaa39d85a37.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:12.191789"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"772f797263d0536c2d412dadb8ed1481.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:12.199905"], ["updated_at", "2024-07-02 11:06:12.199905"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c347eb43d85ae42e628eb28b679e1f8a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:12.200914"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:12.206078"], ["updated_at", "2024-07-02 11:06:12.206078"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.3ms | Allocations: 3755)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 4056)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | Allocations: 5241)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms | Allocations: 6119)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:12.234518"], ["updated_at", "2024-07-02 11:06:12.234518"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:12.244091"], ["updated_at", "2024-07-02 11:06:12.244091"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:12.254278"], ["updated_at", "2024-07-02 11:06:12.254278"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:06:54.062777"], ["updated_at", "2024-07-02 11:06:54.062777"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"ace02c9216012ea7644014e1b29838ee.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:54.133871"], ["updated_at", "2024-07-02 11:06:54.133871"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"250919cfbac4fe9bdb0084330b1d8bb2.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:54.135179"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000133debe60 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32895-1j3mwsn.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"93596ae01700c3858975159881484714.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:54.158477"], ["updated_at", "2024-07-02 11:06:54.158477"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"1b5fef0bfcfd31e298150d45a1f3c81c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:54.159598"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 12ms (Views: 2.0ms | ActiveRecord: 0.2ms | Allocations: 5229)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x00000001339bc5b0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32895-1vzhpyn.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"2c695a80766c3c48a96435be72bde9bd.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:54.171275"], ["updated_at", "2024-07-02 11:06:54.171275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"fc94a1318b6e6f2dc77f3dea4d1f153b.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:54.172316"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 8249)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"8d9a92dc3afcbdc63d7886e372241f47.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:54.190369"], ["updated_at", "2024-07-02 11:06:54.190369"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"fccf812fb162ece5a06d8bd71b821a34.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:54.191272"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"86c9a817ee953fefe359754564bbc548.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:54.199072"], ["updated_at", "2024-07-02 11:06:54.199072"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ba8cc65a8ef5887462f4976cde4da024.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:54.200063"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 831)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.4ms | Allocations: 1585)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 12.9ms | Allocations: 14540)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.1ms | Allocations: 15727)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:06:54.221685"], ["updated_at", "2024-07-02 11:06:54.221685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000133fc94d0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32895-zcoz7o.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"d50058a3f0f114620fab0ab0f09ff934.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:54.263833"], ["updated_at", "2024-07-02 11:06:54.263833"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"f5666dcf50d20f248daac911bb45c323.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:54.264987"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 1756)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000131a7c628 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-32895-7ozy23.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"70ef978d15337df2d7094abe631083a7.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:54.275539"], ["updated_at", "2024-07-02 11:06:54.275539"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ce764009b0af98f7f7f1eec0c4e873cc.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:54.276663"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"2612e338690a5290708e543d1bd30135.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:54.286657"], ["updated_at", "2024-07-02 11:06:54.286657"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"8e992456fc667e6e547f2a918f789168.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:54.287719"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1783)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"c1233d5e7e82b06b6b0b72c2e1f5bfed.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:06:54.297045"], ["updated_at", "2024-07-02 11:06:54.297045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"ad1e3b694b3422aeeaa4209dbb3c50a3.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:06:54.298172"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 746)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 2651)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:06:54.305537"], ["updated_at", "2024-07-02 11:06:54.305537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"c592dfb2bef1c6f203d5c6079a00577f.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:06:54.313678"], ["updated_at", "2024-07-02 11:06:54.313678"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"971aba6464fff9f834ceb3be3d78f175.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:06:54.314653"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:54.320114"], ["updated_at", "2024-07-02 11:06:54.320114"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 5.0ms | Allocations: 4932)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 5233)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 6415)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 7293)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:54.349579"], ["updated_at", "2024-07-02 11:06:54.349579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1173)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2028)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2403)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:54.359792"], ["updated_at", "2024-07-02 11:06:54.359792"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:06:54.369928"], ["updated_at", "2024-07-02 11:06:54.369928"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:10:09.973152"], ["updated_at", "2024-07-02 11:10:09.973152"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:10.069608"], ["updated_at", "2024-07-02 11:10:10.069608"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 22.2ms | Allocations: 22997)
  Rendered posts/new.html.erb within layouts/application (Duration: 22.8ms | Allocations: 23461)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 24667)
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.0ms | Allocations: 26508)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:10.129813"], ["updated_at", "2024-07-02 11:10:10.129813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:10.139709"], ["updated_at", "2024-07-02 11:10:10.139709"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:10.149670"], ["updated_at", "2024-07-02 11:10:10.149670"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:10:57.121507"], ["updated_at", "2024-07-02 11:10:57.121507"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"eacf5f60ce6a17b0da9a6622d65d37e0.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:10:57.196749"], ["updated_at", "2024-07-02 11:10:57.196749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"d4d28a02e93bfe40e0a2056d5f80ca8c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:10:57.198053"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"830aaaadc566c099bd09df4464ef8f15.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:10:57.208991"], ["updated_at", "2024-07-02 11:10:57.208991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"eb839e90a548294041137731c2b4b387.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:10:57.210208"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:57.254017"], ["updated_at", "2024-07-02 11:10:57.254017"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 12.5ms | Allocations: 10284)
  Rendered posts/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 10748)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 23223)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 25063)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:57.308618"], ["updated_at", "2024-07-02 11:10:57.308618"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 585)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1443)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 1826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:57.318452"], ["updated_at", "2024-07-02 11:10:57.318452"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:10:57.328400"], ["updated_at", "2024-07-02 11:10:57.328400"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:11:10.343820"], ["updated_at", "2024-07-02 11:11:10.343820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"fb8bbd29f7db8e3482a8660ef9cd3fbb.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:10.418024"], ["updated_at", "2024-07-02 11:11:10.418024"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"1281f7d018f130a25f41951078f0cdfe.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:10.419229"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:10.424481"], ["updated_at", "2024-07-02 11:11:10.424481"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 22.8ms | Allocations: 22700)
  Rendered posts/new.html.erb within layouts/application (Duration: 23.5ms | Allocations: 23164)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 24370)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.0ms | Allocations: 26209)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:10.480247"], ["updated_at", "2024-07-02 11:11:10.480247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:10.490473"], ["updated_at", "2024-07-02 11:11:10.490473"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:10.500414"], ["updated_at", "2024-07-02 11:11:10.500414"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.1ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 3398)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"b9d90022773278bbb9b3d3b09fe3c402.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:10.544445"], ["updated_at", "2024-07-02 11:11:10.544445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c3a256791af85d20e4b23a8269c81ded.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:10.545468"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010d83d020 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33254-1m0bm0q.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"bac3b8f1c287d518481f4c43d6c5cdf7.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:10.560889"], ["updated_at", "2024-07-02 11:11:10.560889"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c98466e6d255e08a12c35c9760b3ee1a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:10.561999"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 2352)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000108fe61f0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33254-cio2pp.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"7c2348982f3ec756a27049e1706730ae.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:10.572739"], ["updated_at", "2024-07-02 11:11:10.572739"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c21af8b62459ac19606a0d9e0f204620.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:10.573941"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.3ms | Allocations: 1779)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"091531e98cf61aa0fc36821ff5152b55.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:10.584057"], ["updated_at", "2024-07-02 11:11:10.584057"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"166d270130ec8219efc98b6e5dac433a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:10.585199"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"6ba4b42524f31db96731b6a9c1e06038.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:10.594444"], ["updated_at", "2024-07-02 11:11:10.594444"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"498a55fb41de4c754f0ef223e3cc22c2.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:10.595438"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 793)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.6ms | Allocations: 1453)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 4.2ms | Allocations: 3603)
Completed 200 OK in 6ms (Views: 4.8ms | ActiveRecord: 0.1ms | Allocations: 4519)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:11:10.606285"], ["updated_at", "2024-07-02 11:11:10.606285"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:11:22.565294"], ["updated_at", "2024-07-02 11:11:22.565294"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010a8fcd88 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33308-1o1bz2m.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"e1f4875e2d2023ad7b3fa6d763e146dc.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:22.648535"], ["updated_at", "2024-07-02 11:11:22.648535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"f16319c61fca4af476834c33443e8323.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:22.649671"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 20ms (Views: 2.2ms | ActiveRecord: 0.3ms | Allocations: 8221)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010a897cd0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33308-4mh0c8.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"3773a3b25442ffbeda55542e4eaf945d.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:22.663666"], ["updated_at", "2024-07-02 11:11:22.663666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"2209128b1f83f810f7f604e24648f56d.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:22.664653"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 8299)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"edfb830538ae479b7328c43d3e9f782f.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:22.684076"], ["updated_at", "2024-07-02 11:11:22.684076"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"9e69b2b1681c4801f27236f1c3ebd4a1.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:22.685055"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"ac100b1bd474aae946ef98f6470de33f.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:22.694168"], ["updated_at", "2024-07-02 11:11:22.694168"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"4885cca1c1518fd3bcfac292a4a2f9e3.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:22.695113"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 832)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.5ms | Allocations: 1616)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 12.7ms | Allocations: 14574)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.1ms | Allocations: 15758)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:11:22.716586"], ["updated_at", "2024-07-02 11:11:22.716586"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"2361286a034148ab5276fb8cb6bac3ac.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:22.727458"], ["updated_at", "2024-07-02 11:11:22.727458"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"8e6df2c73ee18ef8340fe0bf7eff5153.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:22.728597"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010960aef0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33308-1mubn27.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"28ced91113eca065a71a7e670064e0f0.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:22.773003"], ["updated_at", "2024-07-02 11:11:22.773003"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"dc16c324d2c1c0ba0f7916c6d9e4b99c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:22.774032"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1754)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010ae654a0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33308-1ox0cyx.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"d532ff15bdd8916f9b37a41c6c536184.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:22.784488"], ["updated_at", "2024-07-02 11:11:22.784488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"6361ebe6f2e1426a6ddc39be765f379b.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:22.785747"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1705)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"54ffdaa957d56dabb5a15fa56ff9e890.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:22.795209"], ["updated_at", "2024-07-02 11:11:22.795209"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"b2dbdd807f43ea408b5b308f21b54ae8.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:22.796190"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1743)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"430d75e00b4db54daa944e358eadc8ac.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:11:22.804008"], ["updated_at", "2024-07-02 11:11:22.804008"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"747d9cf414af0786e2e1612b831539e7.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:11:22.804955"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.5ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.1ms | Allocations: 2623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:11:22.811537"], ["updated_at", "2024-07-02 11:11:22.811537"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.1ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:22.816449"], ["updated_at", "2024-07-02 11:11:22.816449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.5ms | Allocations: 3754)
  Rendered posts/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4055)
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 5240)
Completed 200 OK in 7ms (Views: 6.7ms | ActiveRecord: 0.0ms | Allocations: 6118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:22.846519"], ["updated_at", "2024-07-02 11:11:22.846519"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.1ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:22.856921"], ["updated_at", "2024-07-02 11:11:22.856921"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:11:22.867189"], ["updated_at", "2024-07-02 11:11:22.867189"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"cdceefe87350529c40187110b6777702.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:11:22.878424"], ["updated_at", "2024-07-02 11:11:22.878424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"d3eaf0a34dfa7830d170128ac2ad7b3e.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:11:22.879505"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:15:16.161916"], ["updated_at", "2024-07-02 11:15:16.161916"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"0107caafcbe0e0bf4f104cb4a83cdb4e.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:15:16.236728"], ["updated_at", "2024-07-02 11:15:16.236728"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"7597635d1b85c200b2e6bd738cc79457.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:15:16.238072"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010a20a0e8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33487-9lyae.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"04c98b410af4eea8899085ea12ce33e1.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:15:16.293820"], ["updated_at", "2024-07-02 11:15:16.293820"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c43072384a06edd9110114c54af4859c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:15:16.294959"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 14ms (Views: 2.2ms | ActiveRecord: 0.2ms | Allocations: 5229)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010a238808 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33487-6lqfgs.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"e0d9e541326c90a5179ef9bd61c40876.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:15:16.307365"], ["updated_at", "2024-07-02 11:15:16.307365"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"a60fad72408a0be9c2104a0b1552dc81.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:15:16.308374"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 18ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 8247)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"419bfd286eee6e90034fe7b74f011da0.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:15:16.327615"], ["updated_at", "2024-07-02 11:15:16.327615"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"97ff1f0847893cb90286fdf78cef8393.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:15:16.328565"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"402afba2c87ab49354671323764ae265.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:15:16.336882"], ["updated_at", "2024-07-02 11:15:16.336882"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"4fc02dacfc64ef01658fbff93a5830d0.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:15:16.338007"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 831)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.9ms | Allocations: 1585)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 13.5ms | Allocations: 14540)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.1ms | Allocations: 15727)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:15:16.360034"], ["updated_at", "2024-07-02 11:15:16.360034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:15:16.366606"], ["updated_at", "2024-07-02 11:15:16.366606"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.6ms | Allocations: 3754)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4055)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5240)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:15:16.399692"], ["updated_at", "2024-07-02 11:15:16.399692"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:15:16.411112"], ["updated_at", "2024-07-02 11:15:16.411112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.1ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:15:16.421896"], ["updated_at", "2024-07-02 11:15:16.421896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.9ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.4ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000012aaeac60 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33487-xqp9pk.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"f81412590796968722d1cdec78388035.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:15:16.434848"], ["updated_at", "2024-07-02 11:15:16.434848"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"9cef4f47055cd327a67412392637e04a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:15:16.435954"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1756)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010880fe90 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33487-1u3avue.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"f548f2707cdb12ea283ac151ff9c0835.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:15:16.447000"], ["updated_at", "2024-07-02 11:15:16.447000"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"059b6974ea257e96e939c4609bee23c6.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:15:16.448071"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"206434b64763eec06e1d7a5ee4ab8d70.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:15:16.458449"], ["updated_at", "2024-07-02 11:15:16.458449"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"342d26395b4988f6d121f639f3db4f31.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:15:16.459528"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1783)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"d8bb4a608e6d436638508160f6d97b19.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:15:16.469197"], ["updated_at", "2024-07-02 11:15:16.469197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"8e75970e7e8c9c1996999879168d8395.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:15:16.470182"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.7ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.1ms | Allocations: 2651)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:15:16.477157"], ["updated_at", "2024-07-02 11:15:16.477157"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"e03827d1c2c7c5ab338e8ebb5fd3cd22.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:15:16.485710"], ["updated_at", "2024-07-02 11:15:16.485710"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"aebe6091329d12234d70459175909c93.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:15:16.486926"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:16:24.777045"], ["updated_at", "2024-07-02 11:16:24.777045"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"e92972583d3024ea77ac1ac6b08bfa6e.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:16:24.848398"], ["updated_at", "2024-07-02 11:16:24.848398"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"2ce0a2d347ccce702723b8c92cb562e7.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:16:24.849529"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:16:24.855177"], ["updated_at", "2024-07-02 11:16:24.855177"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 23.1ms | Allocations: 22978)
  Rendered posts/new.html.erb within layouts/application (Duration: 23.8ms | Allocations: 23442)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 24648)
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 26488)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:16:24.918237"], ["updated_at", "2024-07-02 11:16:24.918237"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1179)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2034)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2417)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:16:24.928049"], ["updated_at", "2024-07-02 11:16:24.928049"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 908)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1756)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2333)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:16:24.938425"], ["updated_at", "2024-07-02 11:16:24.938425"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 1.3ms | Allocations: 2331)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.7ms | Allocations: 2551)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | Allocations: 3398)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms | Allocations: 3816)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001112895d0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33621-uulsm1.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"19e4ee98695e01182840080464ff3053.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:16:24.966207"], ["updated_at", "2024-07-02 11:16:24.966207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"904384a89e4acb3755fb2f60452d36af.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:16:24.967856"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 19ms (Views: 1.1ms | ActiveRecord: 0.3ms | Allocations: 4540)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011174c8d8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33621-w6wx8s.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.2ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"2371656feb585e08db9c8a722906e9fe.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:16:24.981624"], ["updated_at", "2024-07-02 11:16:24.981624"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"5323a6eadfc4a59f00e685de30e46c6f.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:16:24.983542"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1786)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"73399d8855ac7dcd22058449e53a45b0.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:16:24.996004"], ["updated_at", "2024-07-02 11:16:24.996004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"cf0194d607d6ca0d6481490ce04c8ce2.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:16:24.997085"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"8f3250c044ce5d332be517738d808a03.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:16:25.007342"], ["updated_at", "2024-07-02 11:16:25.007342"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"9f1d7dc1c5085d7f62ca46152c9ebc1c.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:16:25.008551"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 795)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.9ms | Allocations: 1453)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.5ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 4.9ms | Allocations: 3603)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.1ms | Allocations: 4519)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:16:25.021375"], ["updated_at", "2024-07-02 11:16:25.021375"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"420226e96891709c496f1b3a9fa94561.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:16:25.031399"], ["updated_at", "2024-07-02 11:16:25.031399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"fdaf8304d3a311dd7dafff3c6269d5b8.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:16:25.032417"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001305d9f68 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33621-ekeua.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"102f8c39610cbd151ff968fe6bf530ed.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:16:25.045478"], ["updated_at", "2024-07-02 11:16:25.045478"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"0aa8ab77d8887e559cef3445171b231c.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:16:25.047504"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 12ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1754)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000011175f780 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33621-4wf9zc.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.2ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"7c6a01535ac9c82dd0ac6a234303379e.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:16:25.067520"], ["updated_at", "2024-07-02 11:16:25.067520"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"b88ebe3bb0ad982254b00c5316ce3804.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:16:25.070074"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 15ms (Views: 0.1ms | ActiveRecord: 0.4ms | Allocations: 1705)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"3959fb738440cc3e76999811af5dd885.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:16:25.080022"], ["updated_at", "2024-07-02 11:16:25.080022"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"02241af0568ee4effe24b121785f9574.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:16:25.080995"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1743)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"7366fec2bd90e0926f142a2544a755fa.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:16:25.089513"], ["updated_at", "2024-07-02 11:16:25.089513"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"b4f93afb90c925cee5b07dbf70cf6bc1.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:16:25.090475"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.6ms | Allocations: 2126)
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.1ms | Allocations: 2623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:16:25.097241"], ["updated_at", "2024-07-02 11:16:25.097241"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:18:34.724619"], ["updated_at", "2024-07-02 11:18:34.724619"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000107d52ae8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33766-dkiyqf.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"53fd50a0dbf8c144f89fa1e4594716e8.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:34.809451"], ["updated_at", "2024-07-02 11:18:34.809451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"35c9d78fd32a54096c462f0ecfd2e95a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:34.810738"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 19ms (Views: 1.9ms | ActiveRecord: 0.3ms | Allocations: 8223)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000107dbf0a8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33766-wuklnp.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"3c55aa1558ada80f231b4c8a6a65163d.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:34.835202"], ["updated_at", "2024-07-02 11:18:34.835202"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"41cb0b897618af34519c7146a6a155ec.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:34.836330"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 8298)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"1e7631454b80df3e0d530e3f4787053c.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:34.855696"], ["updated_at", "2024-07-02 11:18:34.855696"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"887528458356b26208635482ea7cff8f.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:34.856616"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1784)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"9d2509a836a3af8ddbd63d12f1b32126.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:34.865286"], ["updated_at", "2024-07-02 11:18:34.865286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"397ac4a89910a85f555a438c805e881e.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:34.866338"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 831)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.4ms | Allocations: 1616)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 12.9ms | Allocations: 14572)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.1ms | Allocations: 15756)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:18:34.887497"], ["updated_at", "2024-07-02 11:18:34.887497"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 805)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:34.923184"], ["updated_at", "2024-07-02 11:18:34.923184"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 4.4ms | Allocations: 3754)
  Rendered posts/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 4055)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5240)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms | Allocations: 6118)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:34.954662"], ["updated_at", "2024-07-02 11:18:34.954662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.1ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.8ms | Allocations: 579)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1437)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.1ms | Allocations: 1812)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:34.964459"], ["updated_at", "2024-07-02 11:18:34.964459"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1744)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:34.975486"], ["updated_at", "2024-07-02 11:18:34.975486"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.7ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"8bd4412f3a611b3fab79baf2be92f54e.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:34.987009"], ["updated_at", "2024-07-02 11:18:34.987009"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.1ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"e8766626ebad53b06ada813b3612dd86.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:34.988207"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000106c687f0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33766-yetwpo.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"c8324cda0f2e39d43d160841a841ce3f.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:34.999787"], ["updated_at", "2024-07-02 11:18:34.999787"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"d53e3db7d80a67a7f29efcf93050bba2.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:35.000963"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 10ms (Views: 0.4ms | ActiveRecord: 0.2ms | Allocations: 3942)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000106b3add8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33766-m3k57p.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"b9f08224d21441ae0890c4eaef8cc5ff.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:35.012010"], ["updated_at", "2024-07-02 11:18:35.012010"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"3f9ef3ea07e5f7e2c1be8438a9015ac7.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:35.013073"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1705)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"8c24b3541daec871ebf96ca17b1f4419.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:35.022551"], ["updated_at", "2024-07-02 11:18:35.022551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"51bee571c9f9937eeb619c0b663733cc.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:35.023538"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1743)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"48172e695b79434238c96f036a5571df.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:35.031788"], ["updated_at", "2024-07-02 11:18:35.031788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"66564eafa4a95cf7ad691e1a950dec5f.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:35.032793"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.1ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 744)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.1ms | Allocations: 649)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.8ms | Allocations: 2126)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms | Allocations: 2623)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["created_at", "2024-07-02 11:18:35.040416"], ["updated_at", "2024-07-02 11:18:35.040416"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 730)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"2edbc0a45dfb7c14343ca6bfa55d15e5.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:35.048529"], ["updated_at", "2024-07-02 11:18:35.048529"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"7893f8c7e9a2c6425e9213979a5ed734.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:35.049604"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:18:53.549451"], ["updated_at", "2024-07-02 11:18:53.549451"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_size" integer, "type" varchar(30), "attachment_data" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------
UtilsTest: test_exists_filethumb
--------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------
UtilsTest: test_wrong_filethumb
-------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------
NavigationTest: test_truth
--------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------
CkeditorTest: test_CDN_setup
----------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_attachment_file_model_adapter
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_attachment_file_model_using_block
-----------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model
---------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_picture_model_using_block
---------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------
CkeditorTest: test_configuration_specifying_running_ckeditor:nondigest_task_on_assets:precompile
------------------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
CkeditorTest: test_default_attachment_file_model
------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_default_picture_model
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------
CkeditorTest: test_picture_model_adapter
----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------
CkeditorTest: test_setup_block_yields_self
------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------
CkeditorTest: test_truth
------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
PictureTest: test_Set_file_content_type_and_size
------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"758674b2fe67a6193fa4a93775374b2b.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:53.622699"], ["updated_at", "2024-07-02 11:18:53.622699"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"66cba3d17fd074dcc68f6f18b0dddd48.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:53.623984"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_form_builder_helper
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:53.629254"], ["updated_at", "2024-07-02 11:18:53.629254"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 12.5ms | Allocations: 10284)
  Rendered posts/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 10748)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 23292)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.0ms | Allocations: 25131)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------
PostsControllerTest: test_include_javascripts
---------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:53.685069"], ["updated_at", "2024-07-02 11:18:53.685069"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 0.9ms | Allocations: 585)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1443)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 1826)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
PostsControllerTest: test_pass_text_area_with_options
-----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:53.694614"], ["updated_at", "2024-07-02 11:18:53.694614"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.6ms | Allocations: 322)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1173)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 1750)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.1ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PostsControllerTest: test_text_area_value
-----------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (0.0ms)[0m  [1m[32mINSERT INTO "posts" ("title", "info", "content", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "test"], ["info", "info"], ["content", "content"], ["created_at", "2024-07-02 11:18:53.704226"], ["updated_at", "2024-07-02 11:18:53.704226"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mPost Load (0.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/_form.html.erb (Duration: 0.8ms | Allocations: 1154)
  Rendered posts/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1374)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 2224)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2642)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (0.0ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------
AttachmentFileTest: test_Set_file_content_type_and_size
-------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"4133d240c79905995ef13f2197c6deb1.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:53.716900"], ["updated_at", "2024-07-02 11:18:53.716900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"e655b0b2340e1e44b87859bed0983884.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:53.718073"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010bf2d2d8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33822-hve1sv.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"4132268d22d7359ea9bf9c704bf037fc.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:53.732579"], ["updated_at", "2024-07-02 11:18:53.732579"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"717755a7b89e4b712d4d90e47f6aa627.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:53.733632"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 3)
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 0.2ms | Allocations: 2356)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010b8c3488 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33822-15vh1ot.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"511bec908ffb01f5c7e886f816042416.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:53.743862"], ["updated_at", "2024-07-02 11:18:53.743862"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"85cf0fb8e50815fef1e0c9bd1d8d313b.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:53.744857"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"9fa8a4c7bb60cf170b305c943046fb1a.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:53.753638"], ["updated_at", "2024-07-02 11:18:53.753638"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"c4cfe5d23d09e724e98a4a02e2160d41.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:53.754641"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1750)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::Picture"], ["attachment_data", "{\"id\":\"26f0350e78875ae535d37c5797d917ca.png\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["created_at", "2024-07-02 11:18:53.762892"], ["updated_at", "2024-07-02 11:18:53.762892"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"d12079e67a787aa5b5a5ca20cc9678b9.png\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.png\",\"size\":6646,\"mime_type\":\"image/png\"}}"], ["updated_at", "2024-07-02 11:18:53.763952"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::Picture"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::Picture Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/pictures
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 792)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 14)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 2.3ms | Allocations: 1422)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 245)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 4.0ms | Allocations: 3572)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.1ms | Allocations: 4491)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1196)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x000000010af35ab0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33822-1oxbqqs.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"0e8e76f0156aa6c7c9309cb613de4ee7.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:53.785063"], ["updated_at", "2024-07-02 11:18:53.785063"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"eb494b73ac3fdb0853909603c34b42ad.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:53.786087"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1762)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010af090f0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-33822-hryv0r.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"14053a8cd30ea82c46ac92ae25b0a867.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:53.796544"], ["updated_at", "2024-07-02 11:18:53.796544"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"04b407cb3affe86cdf6c908c4d3fee2a.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:53.797591"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1751)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"f948b5b451423888fa3018143be787eb.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:53.807379"], ["updated_at", "2024-07-02 11:18:53.807379"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"adc7d30e79f874a045b01ca056bf6eb3.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:53.808444"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 1789)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.1ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("type", "attachment_data", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["type", "Ckeditor::AttachmentFile"], ["attachment_data", "{\"id\":\"8c8d078b742fb3b43350cef74c33782b.gz\",\"storage\":\"cache\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["created_at", "2024-07-02 11:18:53.817218"], ["updated_at", "2024-07-02 11:18:53.817218"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Update (0.0ms)[0m  [1m[33mUPDATE "ckeditor_assets" SET "attachment_data" = ?, "updated_at" = ? WHERE "ckeditor_assets"."id" = ?[0m  [["attachment_data", "{\"id\":\"b8900e2ee8039ab3591537d59fdf39d4.gz\",\"storage\":\"store\",\"metadata\":{\"filename\":\"rails.tar.gz\",\"size\":6823,\"mime_type\":\"application/gzip\"}}"], ["updated_at", "2024-07-02 11:18:53.818173"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 745)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 0.9ms | Allocations: 680)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.6ms | Allocations: 2157)
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.1ms | Allocations: 2651)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 1079)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
InstallGeneratorTest: test_Assert_all_files_are_properly_created
----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
InstallGeneratorTest: test_Assert_configurator_is_valid_for_mongoid
-------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_active_storage
----------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_carrierwave
-------------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_dragonfly
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
InstallGeneratorTest: test_models_and_migration_for_active_record_orm_via_paperclip
-----------------------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_carrierwave
-----------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------
InstallGeneratorTest: test_models_for_mongoid_orm_via_paperclip
---------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:34:46.159113"], ["updated_at", "2024-07-02 11:34:46.159113"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001075deaf0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34371-1j5wblw.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:34:46.233054"], ["updated_at", "2024-07-02 11:34:46.233054"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 8693)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000010ff761a0 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34371-4c4zuh.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:34:46.239504"], ["updated_at", "2024-07-02 11:34:46.239504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 5729)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.5ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:34:46.253025"], ["updated_at", "2024-07-02 11:34:46.253025"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 1269)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:34:46.256800"], ["updated_at", "2024-07-02 11:34:46.256800"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 788)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 4.5ms | Allocations: 1620)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.9ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 27.6ms | Allocations: 14575)
Completed 200 OK in 32ms (Views: 30.2ms | ActiveRecord: 0.1ms | Allocations: 15759)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1221)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x00000001081a7670 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34371-6bvbl9.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 20ms (Views: 5.1ms | ActiveRecord: 0.0ms | Allocations: 5156)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x0000000108475ca8 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34371-ifxkwu.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2176)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 200 OK in 2ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 2229)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 0.8ms | Allocations: 657)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 1.4ms | Allocations: 2135)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.1ms | Allocations: 2635)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 867)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePosts (20110623120047)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "posts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "info" text, "content" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20110623120047"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageTables (20170806125915)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL, "service_name" varchar NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170806125915"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActiveStorageVariantRecords (20240702124877)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "blob_id" integer NOT NULL, "variation_digest" varchar NOT NULL, CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20240702124877"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-02 11:35:45.815838"], ["updated_at", "2024-07-02 11:35:45.815838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ckeditor_assets" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "data_file_name" varchar NOT NULL, "data_content_type" varchar, "data_file_size" integer, "type" varchar(30), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_ckeditor_assets_on_type" ON "ckeditor_assets" ("type")[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_CKEditor_upload_form
--------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000138f46d78 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34430-1dh3yvp.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">, "CKEditor"=>"ckeditor_field"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:35:45.886592"], ["updated_at", "2024-07-02 11:35:45.886592"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 5)
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.2ms | Allocations: 8450)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_filebrowser
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000013c3b4330 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34430-pdi165.gz>, @original_filename="rails.tar.gz", @content_type="application/x-gzip", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.tar.gz\"\r\ncontent-type: application/x-gzip\r\ncontent-length: 6823\r\n">}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:35:45.893031"], ["updated_at", "2024-07-02 11:35:45.893031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 5729)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_create_action_via_html5_upload
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>"rails.tar.gz"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:35:45.909888"], ["updated_at", "2024-07-02 11:35:45.909888"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.0ms | ActiveRecord: 0.1ms | Allocations: 1269)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
AttachmentFilesControllerTest: test_destroy_action_via_filebrowser
------------------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Create (0.0ms)[0m  [1m[32mINSERT INTO "ckeditor_assets" ("data_file_name", "data_file_size", "type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["data_file_name", "rails.tar.gz"], ["data_file_size", 6823], ["type", "Ckeditor::AttachmentFile"], ["created_at", "2024-07-02 11:35:45.912580"], ["updated_at", "2024-07-02 11:35:45.912580"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? AND "ckeditor_assets"."id" = ? LIMIT ?[0m  [["type", "Ckeditor::AttachmentFile"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mCkeditor::AttachmentFile Destroy (0.0ms)[0m  [1m[31mDELETE FROM "ckeditor_assets" WHERE "ckeditor_assets"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/ckeditor/attachment_files
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 788)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------
AttachmentFilesControllerTest: test_index_action
------------------------------------------------
Processing by Ckeditor::AttachmentFilesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::AttachmentFile Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::AttachmentFile"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 15)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/attachment_files/index.html.erb within layouts/ckeditor/application (Duration: 2.4ms | Allocations: 1621)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.4ms | Allocations: 248)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 12.8ms | Allocations: 14495)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.1ms | Allocations: 15680)
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
AttachmentFilesControllerTest: test_invalid_params_for_create_action
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
Processing by Ckeditor::AttachmentFilesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 1221)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mCkeditor::AttachmentFile Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::AttachmentFile"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
PicturesControllerTest: test_create_action_via_CKEditor_upload_form
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"upload"=>#<ActionDispatch::Http::UploadedFile:0x0000000109b88710 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34430-1czd210.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"upload\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">, "CKEditor"=>"ckeditor_field"}
  Rendering html template
  Rendered html template (Duration: 0.0ms | Allocations: 2)
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 5196)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------
PicturesControllerTest: test_create_action_via_filebrowser
----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>#<ActionDispatch::Http::UploadedFile:0x000000013be03850 @tempfile=#<Tempfile:/var/folders/3y/9s6zv_mx5mx012zx6kbf5z480000gn/T/RackMultipart20240702-34430-1beq9bm.png>, @original_filename="rails.png", @content_type="image/png", @headers="content-disposition: form-data; name=\"qqfile\"; filename=\"rails.png\"\r\ncontent-type: image/png\r\ncontent-length: 6646\r\n">}
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 2179)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_create_action_via_html5_upload
-----------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>"rails.png"}
Completed 200 OK in 2ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 2228)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------
PicturesControllerTest: test_destroy_action_via_filebrowser
-----------------------------------------------------------
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------
PicturesControllerTest: test_index_action
-----------------------------------------
Processing by Ckeditor::PicturesController#index as HTML
  Rendering layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb
  Rendering /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application
  [1m[36mCkeditor::Picture Load (0.1ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ? ORDER BY id desc LIMIT ? OFFSET ?[0m  [["type", "Ckeditor::Picture"], ["LIMIT", 24], ["OFFSET", 0]]
  Rendered collection of /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset.html.erb [0 times] (Duration: 0.0ms | Allocations: 11)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/pictures/index.html.erb within layouts/ckeditor/application (Duration: 1.0ms | Allocations: 653)
  Rendered /Users/mario/www/gems/ckeditor/app/views/ckeditor/shared/_asset_tmpl.html.erb (Duration: 0.1ms | Allocations: 110)
  Rendered layout /Users/mario/www/gems/ckeditor/app/views/layouts/ckeditor/application.html.erb (Duration: 2.2ms | Allocations: 2130)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms | Allocations: 2628)
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------
PicturesControllerTest: test_invalid_params_for_create_action
-------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
Processing by Ckeditor::PicturesController#create as HTML
  Parameters: {"qqfile"=>""}
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms | Allocations: 867)
  [1m[35m (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mCkeditor::Picture Load (0.0ms)[0m  [1m[34mSELECT "ckeditor_assets".* FROM "ckeditor_assets" WHERE "ckeditor_assets"."type" = ?[0m  [["type", "Ckeditor::Picture"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
